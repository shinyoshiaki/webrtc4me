"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getLocalVideo = getLocalVideo;
exports.getLocalAudio = getLocalAudio;
exports.getLocalDesktop = getLocalDesktop;

function getLocalVideo(option) {
  return new Promise(function (resolve) {
    navigator.getUserMedia = navigator.getUserMedia;
    navigator.mediaDevices.getUserMedia({
      audio: true,
      video: option || true
    }).then(function (stream) {
      resolve(stream);
    });
  });
}

function getLocalAudio() {
  return new Promise(function (resolve) {
    navigator.getUserMedia = navigator.getUserMedia;
    navigator.mediaDevices.getUserMedia({
      audio: true,
      video: false
    }).then(function (stream) {
      resolve(stream);
    });
  });
}

function getLocalDesktop(option) {
  return new Promise(function (resolve) {
    navigator.mediaDevices.getDisplayMedia({
      video: option || true
    }).then(function (stream) {
      resolve(stream);
    });
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsbC9tZWRpYS50cyJdLCJuYW1lcyI6WyJnZXRMb2NhbFZpZGVvIiwib3B0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJuYXZpZ2F0b3IiLCJnZXRVc2VyTWVkaWEiLCJtZWRpYURldmljZXMiLCJhdWRpbyIsInZpZGVvIiwidGhlbiIsInN0cmVhbSIsImdldExvY2FsQXVkaW8iLCJnZXRMb2NhbERlc2t0b3AiLCJnZXREaXNwbGF5TWVkaWEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFPLFNBQVNBLGFBQVQsQ0FBdUJDLE1BQXZCLEVBQW9EO0FBQ3pELFNBQU8sSUFBSUMsT0FBSixDQUF5QixVQUFDQyxPQUFELEVBQXVDO0FBQ3JFQyxJQUFBQSxTQUFTLENBQUNDLFlBQVYsR0FBeUJELFNBQVMsQ0FBQ0MsWUFBbkM7QUFDQUQsSUFBQUEsU0FBUyxDQUFDRSxZQUFWLENBQ0dELFlBREgsQ0FDZ0I7QUFDWkUsTUFBQUEsS0FBSyxFQUFFLElBREs7QUFFWkMsTUFBQUEsS0FBSyxFQUFFUCxNQUFNLElBQUk7QUFGTCxLQURoQixFQUtHUSxJQUxILENBS1EsVUFBQUMsTUFBTSxFQUFJO0FBQ2RQLE1BQUFBLE9BQU8sQ0FBQ08sTUFBRCxDQUFQO0FBQ0QsS0FQSDtBQVFELEdBVk0sQ0FBUDtBQVdEOztBQUVNLFNBQVNDLGFBQVQsR0FBeUI7QUFDOUIsU0FBTyxJQUFJVCxPQUFKLENBQXlCLFVBQUNDLE9BQUQsRUFBdUM7QUFDckVDLElBQUFBLFNBQVMsQ0FBQ0MsWUFBVixHQUF5QkQsU0FBUyxDQUFDQyxZQUFuQztBQUNBRCxJQUFBQSxTQUFTLENBQUNFLFlBQVYsQ0FDR0QsWUFESCxDQUNnQjtBQUFFRSxNQUFBQSxLQUFLLEVBQUUsSUFBVDtBQUFlQyxNQUFBQSxLQUFLLEVBQUU7QUFBdEIsS0FEaEIsRUFFR0MsSUFGSCxDQUVRLFVBQUFDLE1BQU0sRUFBSTtBQUNkUCxNQUFBQSxPQUFPLENBQUNPLE1BQUQsQ0FBUDtBQUNELEtBSkg7QUFLRCxHQVBNLENBQVA7QUFRRDs7QUFFTSxTQUFTRSxlQUFULENBQXlCWCxNQUF6QixFQUFzRDtBQUMzRCxTQUFPLElBQUlDLE9BQUosQ0FBeUIsVUFBQ0MsT0FBRCxFQUF1QztBQUNwRUMsSUFBQUEsU0FBUyxDQUFDRSxZQUFYLENBQ0dPLGVBREgsQ0FDbUI7QUFDZkwsTUFBQUEsS0FBSyxFQUFFUCxNQUFNLElBQUk7QUFERixLQURuQixFQUlHUSxJQUpILENBSVEsVUFBQ0MsTUFBRCxFQUFpQjtBQUNyQlAsTUFBQUEsT0FBTyxDQUFDTyxNQUFELENBQVA7QUFDRCxLQU5IO0FBT0QsR0FSTSxDQUFQO0FBU0QiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxWaWRlbyhvcHRpb24/OiBNZWRpYVRyYWNrU2V0dGluZ3MpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPE1lZGlhU3RyZWFtPigocmVzb2x2ZTogKHY6IE1lZGlhU3RyZWFtKSA9PiB2b2lkKSA9PiB7XG4gICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5nZXRVc2VyTWVkaWE7XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlc1xuICAgICAgLmdldFVzZXJNZWRpYSh7XG4gICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICB2aWRlbzogb3B0aW9uIHx8IHRydWVcbiAgICAgIH0pXG4gICAgICAudGhlbihzdHJlYW0gPT4ge1xuICAgICAgICByZXNvbHZlKHN0cmVhbSk7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhbEF1ZGlvKCkge1xuICByZXR1cm4gbmV3IFByb21pc2U8TWVkaWFTdHJlYW0+KChyZXNvbHZlOiAodjogTWVkaWFTdHJlYW0pID0+IHZvaWQpID0+IHtcbiAgICBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhID0gbmF2aWdhdG9yLmdldFVzZXJNZWRpYTtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzXG4gICAgICAuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUsIHZpZGVvOiBmYWxzZSB9KVxuICAgICAgLnRoZW4oc3RyZWFtID0+IHtcbiAgICAgICAgcmVzb2x2ZShzdHJlYW0pO1xuICAgICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxEZXNrdG9wKG9wdGlvbj86IE1lZGlhVHJhY2tTZXR0aW5ncykge1xuICByZXR1cm4gbmV3IFByb21pc2U8TWVkaWFTdHJlYW0+KChyZXNvbHZlOiAodjogTWVkaWFTdHJlYW0pID0+IHZvaWQpID0+IHtcbiAgICAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBhcyBhbnkpXG4gICAgICAuZ2V0RGlzcGxheU1lZGlhKHtcbiAgICAgICAgdmlkZW86IG9wdGlvbiB8fCB0cnVlXG4gICAgICB9KVxuICAgICAgLnRoZW4oKHN0cmVhbTogYW55KSA9PiB7XG4gICAgICAgIHJlc29sdmUoc3RyZWFtKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cbiJdfQ==