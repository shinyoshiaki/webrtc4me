"use strict";

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

require("babel-polyfill");

var peerOffer = new _index["default"]({
  nodeId: "offer",
  trickle: true
});
var peerAnswer = new _index["default"]({
  nodeId: "answer",
  trickle: true
});
peerOffer.makeOffer();
peerOffer.onSignal.subscribe(function (sdp) {
  peerAnswer.setSdp(sdp);
});
peerAnswer.onSignal.subscribe(function (sdp) {
  peerOffer.setSdp(sdp);
});
peerOffer.onConnect.once(function () {
  console.log("offer connect");
  peerOffer.onData.once(function (raw) {
    console.log("ondata offer", raw);
  });
  peerOffer.send("one", "offer1");
  peerOffer.send("two", "offer2");
});
peerAnswer.onConnect.once(function () {
  console.log("answer connect");
  peerAnswer.onData.once(function (raw) {
    console.log("ondata answer", raw);
  });
  peerAnswer.send("one", "answer1");
  peerAnswer.send("two", "answer2");
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zYW1wbGUvdHJpY2tsZS50cyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwicGVlck9mZmVyIiwiV2ViUlRDIiwibm9kZUlkIiwidHJpY2tsZSIsInBlZXJBbnN3ZXIiLCJtYWtlT2ZmZXIiLCJvblNpZ25hbCIsInN1YnNjcmliZSIsInNkcCIsInNldFNkcCIsIm9uQ29ubmVjdCIsIm9uY2UiLCJjb25zb2xlIiwibG9nIiwib25EYXRhIiwicmF3Iiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQURBQSxPQUFPLENBQUMsZ0JBQUQsQ0FBUDs7QUFFQSxJQUFNQyxTQUFTLEdBQUcsSUFBSUMsaUJBQUosQ0FBVztBQUFFQyxFQUFBQSxNQUFNLEVBQUUsT0FBVjtBQUFtQkMsRUFBQUEsT0FBTyxFQUFFO0FBQTVCLENBQVgsQ0FBbEI7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUgsaUJBQUosQ0FBVztBQUFFQyxFQUFBQSxNQUFNLEVBQUUsUUFBVjtBQUFvQkMsRUFBQUEsT0FBTyxFQUFFO0FBQTdCLENBQVgsQ0FBbkI7QUFFQUgsU0FBUyxDQUFDSyxTQUFWO0FBQ0FMLFNBQVMsQ0FBQ00sUUFBVixDQUFtQkMsU0FBbkIsQ0FBNkIsVUFBQ0MsR0FBRCxFQUFjO0FBQ3pDSixFQUFBQSxVQUFVLENBQUNLLE1BQVgsQ0FBa0JELEdBQWxCO0FBQ0QsQ0FGRDtBQUdBSixVQUFVLENBQUNFLFFBQVgsQ0FBb0JDLFNBQXBCLENBQThCLFVBQUNDLEdBQUQsRUFBYztBQUMxQ1IsRUFBQUEsU0FBUyxDQUFDUyxNQUFWLENBQWlCRCxHQUFqQjtBQUNELENBRkQ7QUFJQVIsU0FBUyxDQUFDVSxTQUFWLENBQW9CQyxJQUFwQixDQUF5QixZQUFNO0FBQzdCQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaO0FBQ0FiLEVBQUFBLFNBQVMsQ0FBQ2MsTUFBVixDQUFpQkgsSUFBakIsQ0FBc0IsVUFBQUksR0FBRyxFQUFJO0FBQzNCSCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCRSxHQUE1QjtBQUNELEdBRkQ7QUFHQWYsRUFBQUEsU0FBUyxDQUFDZ0IsSUFBVixDQUFlLEtBQWYsRUFBc0IsUUFBdEI7QUFDQWhCLEVBQUFBLFNBQVMsQ0FBQ2dCLElBQVYsQ0FBZSxLQUFmLEVBQXNCLFFBQXRCO0FBQ0QsQ0FQRDtBQVNBWixVQUFVLENBQUNNLFNBQVgsQ0FBcUJDLElBQXJCLENBQTBCLFlBQU07QUFDOUJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaO0FBQ0FULEVBQUFBLFVBQVUsQ0FBQ1UsTUFBWCxDQUFrQkgsSUFBbEIsQ0FBdUIsVUFBQUksR0FBRyxFQUFJO0FBQzVCSCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaLEVBQTZCRSxHQUE3QjtBQUNELEdBRkQ7QUFHQVgsRUFBQUEsVUFBVSxDQUFDWSxJQUFYLENBQWdCLEtBQWhCLEVBQXVCLFNBQXZCO0FBQ0FaLEVBQUFBLFVBQVUsQ0FBQ1ksSUFBWCxDQUFnQixLQUFoQixFQUF1QixTQUF2QjtBQUNELENBUEQiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiYmFiZWwtcG9seWZpbGxcIik7XG5pbXBvcnQgV2ViUlRDIGZyb20gXCIuLi9pbmRleFwiO1xuY29uc3QgcGVlck9mZmVyID0gbmV3IFdlYlJUQyh7IG5vZGVJZDogXCJvZmZlclwiLCB0cmlja2xlOiB0cnVlIH0pO1xuY29uc3QgcGVlckFuc3dlciA9IG5ldyBXZWJSVEMoeyBub2RlSWQ6IFwiYW5zd2VyXCIsIHRyaWNrbGU6IHRydWUgfSk7XG5cbnBlZXJPZmZlci5tYWtlT2ZmZXIoKTtcbnBlZXJPZmZlci5vblNpZ25hbC5zdWJzY3JpYmUoKHNkcDogYW55KSA9PiB7XG4gIHBlZXJBbnN3ZXIuc2V0U2RwKHNkcCk7XG59KTtcbnBlZXJBbnN3ZXIub25TaWduYWwuc3Vic2NyaWJlKChzZHA6IGFueSkgPT4ge1xuICBwZWVyT2ZmZXIuc2V0U2RwKHNkcCk7XG59KTtcblxucGVlck9mZmVyLm9uQ29ubmVjdC5vbmNlKCgpID0+IHtcbiAgY29uc29sZS5sb2coXCJvZmZlciBjb25uZWN0XCIpO1xuICBwZWVyT2ZmZXIub25EYXRhLm9uY2UocmF3ID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIm9uZGF0YSBvZmZlclwiLCByYXcpO1xuICB9KTtcbiAgcGVlck9mZmVyLnNlbmQoXCJvbmVcIiwgXCJvZmZlcjFcIik7XG4gIHBlZXJPZmZlci5zZW5kKFwidHdvXCIsIFwib2ZmZXIyXCIpO1xufSk7XG5cbnBlZXJBbnN3ZXIub25Db25uZWN0Lm9uY2UoKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcImFuc3dlciBjb25uZWN0XCIpO1xuICBwZWVyQW5zd2VyLm9uRGF0YS5vbmNlKHJhdyA9PiB7XG4gICAgY29uc29sZS5sb2coXCJvbmRhdGEgYW5zd2VyXCIsIHJhdyk7XG4gIH0pO1xuICBwZWVyQW5zd2VyLnNlbmQoXCJvbmVcIiwgXCJhbnN3ZXIxXCIpO1xuICBwZWVyQW5zd2VyLnNlbmQoXCJ0d29cIiwgXCJhbnN3ZXIyXCIpO1xufSk7XG4iXX0=