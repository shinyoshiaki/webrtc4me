"use strict";

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require("babel-polyfill");

var peerOffer = new _index.default({
  nodeId: "offer",
  trickle: true
});
var peerAnswer = new _index.default({
  nodeId: "answer",
  trickle: true
});
peerOffer.makeOffer();
peerOffer.onSignal.once(function (sdp) {
  peerAnswer.setSdp(sdp);
});
peerAnswer.onSignal.once(function (sdp) {
  peerOffer.setSdp(sdp);
});
peerOffer.onConnect.once(function () {
  console.log("offer connect");
  peerOffer.onData.once(function (raw) {
    console.log("ondata offer", raw);
  });
  peerOffer.send("one", "offer1");
  peerOffer.send("two", "offer2");
});
peerAnswer.onConnect.once(function () {
  console.log("answer connect");
  peerAnswer.onData.once(function (raw) {
    console.log("ondata answer", raw);
  });
  peerAnswer.send("one", "answer1");
  peerAnswer.send("two", "answer2");
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zYW1wbGUvdHJpY2tsZS50cyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwicGVlck9mZmVyIiwiV2ViUlRDIiwibm9kZUlkIiwidHJpY2tsZSIsInBlZXJBbnN3ZXIiLCJtYWtlT2ZmZXIiLCJvblNpZ25hbCIsIm9uY2UiLCJzZHAiLCJzZXRTZHAiLCJvbkNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwib25EYXRhIiwicmF3Iiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQURBQSxPQUFPLENBQUMsZ0JBQUQsQ0FBUDs7QUFFQSxJQUFNQyxTQUFTLEdBQUcsSUFBSUMsY0FBSixDQUFXO0FBQUVDLEVBQUFBLE1BQU0sRUFBRSxPQUFWO0FBQW1CQyxFQUFBQSxPQUFPLEVBQUU7QUFBNUIsQ0FBWCxDQUFsQjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJSCxjQUFKLENBQVc7QUFBRUMsRUFBQUEsTUFBTSxFQUFFLFFBQVY7QUFBb0JDLEVBQUFBLE9BQU8sRUFBRTtBQUE3QixDQUFYLENBQW5CO0FBRUFILFNBQVMsQ0FBQ0ssU0FBVjtBQUNBTCxTQUFTLENBQUNNLFFBQVYsQ0FBbUJDLElBQW5CLENBQXdCLFVBQUNDLEdBQUQsRUFBYztBQUNwQ0osRUFBQUEsVUFBVSxDQUFDSyxNQUFYLENBQWtCRCxHQUFsQjtBQUNELENBRkQ7QUFHQUosVUFBVSxDQUFDRSxRQUFYLENBQW9CQyxJQUFwQixDQUF5QixVQUFDQyxHQUFELEVBQWM7QUFDckNSLEVBQUFBLFNBQVMsQ0FBQ1MsTUFBVixDQUFpQkQsR0FBakI7QUFDRCxDQUZEO0FBSUFSLFNBQVMsQ0FBQ1UsU0FBVixDQUFvQkgsSUFBcEIsQ0FBeUIsWUFBTTtBQUM3QkksRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWjtBQUNBWixFQUFBQSxTQUFTLENBQUNhLE1BQVYsQ0FBaUJOLElBQWpCLENBQXNCLFVBQUFPLEdBQUcsRUFBSTtBQUMzQkgsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWixFQUE0QkUsR0FBNUI7QUFDRCxHQUZEO0FBR0FkLEVBQUFBLFNBQVMsQ0FBQ2UsSUFBVixDQUFlLEtBQWYsRUFBc0IsUUFBdEI7QUFDQWYsRUFBQUEsU0FBUyxDQUFDZSxJQUFWLENBQWUsS0FBZixFQUFzQixRQUF0QjtBQUNELENBUEQ7QUFTQVgsVUFBVSxDQUFDTSxTQUFYLENBQXFCSCxJQUFyQixDQUEwQixZQUFNO0FBQzlCSSxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWjtBQUNBUixFQUFBQSxVQUFVLENBQUNTLE1BQVgsQ0FBa0JOLElBQWxCLENBQXVCLFVBQUFPLEdBQUcsRUFBSTtBQUM1QkgsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWixFQUE2QkUsR0FBN0I7QUFDRCxHQUZEO0FBR0FWLEVBQUFBLFVBQVUsQ0FBQ1csSUFBWCxDQUFnQixLQUFoQixFQUF1QixTQUF2QjtBQUNBWCxFQUFBQSxVQUFVLENBQUNXLElBQVgsQ0FBZ0IsS0FBaEIsRUFBdUIsU0FBdkI7QUFDRCxDQVBEIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcImJhYmVsLXBvbHlmaWxsXCIpO1xuaW1wb3J0IFdlYlJUQyBmcm9tIFwiLi4vaW5kZXhcIjtcbmNvbnN0IHBlZXJPZmZlciA9IG5ldyBXZWJSVEMoeyBub2RlSWQ6IFwib2ZmZXJcIiwgdHJpY2tsZTogdHJ1ZSB9KTtcbmNvbnN0IHBlZXJBbnN3ZXIgPSBuZXcgV2ViUlRDKHsgbm9kZUlkOiBcImFuc3dlclwiLCB0cmlja2xlOiB0cnVlIH0pO1xuXG5wZWVyT2ZmZXIubWFrZU9mZmVyKCk7XG5wZWVyT2ZmZXIub25TaWduYWwub25jZSgoc2RwOiBhbnkpID0+IHtcbiAgcGVlckFuc3dlci5zZXRTZHAoc2RwKTtcbn0pO1xucGVlckFuc3dlci5vblNpZ25hbC5vbmNlKChzZHA6IGFueSkgPT4ge1xuICBwZWVyT2ZmZXIuc2V0U2RwKHNkcCk7XG59KTtcblxucGVlck9mZmVyLm9uQ29ubmVjdC5vbmNlKCgpID0+IHtcbiAgY29uc29sZS5sb2coXCJvZmZlciBjb25uZWN0XCIpO1xuICBwZWVyT2ZmZXIub25EYXRhLm9uY2UocmF3ID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIm9uZGF0YSBvZmZlclwiLCByYXcpO1xuICB9KTtcbiAgcGVlck9mZmVyLnNlbmQoXCJvbmVcIiwgXCJvZmZlcjFcIik7XG4gIHBlZXJPZmZlci5zZW5kKFwidHdvXCIsIFwib2ZmZXIyXCIpO1xufSk7XG5cbnBlZXJBbnN3ZXIub25Db25uZWN0Lm9uY2UoKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcImFuc3dlciBjb25uZWN0XCIpO1xuICBwZWVyQW5zd2VyLm9uRGF0YS5vbmNlKHJhdyA9PiB7XG4gICAgY29uc29sZS5sb2coXCJvbmRhdGEgYW5zd2VyXCIsIHJhdyk7XG4gIH0pO1xuICBwZWVyQW5zd2VyLnNlbmQoXCJvbmVcIiwgXCJhbnN3ZXIxXCIpO1xuICBwZWVyQW5zd2VyLnNlbmQoXCJ0d29cIiwgXCJhbnN3ZXIyXCIpO1xufSk7XG4iXX0=