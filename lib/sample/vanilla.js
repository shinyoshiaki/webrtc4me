"use strict";

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require("babel-polyfill");

var peerOffer = new _index.default({
  disable_stun: true,
  nodeId: "offer"
});
var peerAnswer = new _index.default({
  disable_stun: true,
  nodeId: "answer"
});
peerOffer.makeOffer();

peerOffer.signal = function (sdp) {
  peerAnswer.setSdp(sdp);
};

peerAnswer.signal = function (sdp) {
  peerOffer.setSdp(sdp);
};

peerOffer.connect = function () {
  console.log("offer connect");
  peerOffer.onData.subscribe(function (raw) {
    console.log("ondata offer", raw);
  });
  peerOffer.send("one", "offer1");
  peerOffer.send("two", "offer2");
};

peerAnswer.connect = function () {
  console.log("answer connect");
  peerAnswer.onData.subscribe(function (raw) {
    console.log("ondata answer", raw);
  });
  peerAnswer.send("one", "answer1");
  peerAnswer.send("two", "answer2");
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zYW1wbGUvdmFuaWxsYS50cyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwicGVlck9mZmVyIiwiV2ViUlRDIiwiZGlzYWJsZV9zdHVuIiwibm9kZUlkIiwicGVlckFuc3dlciIsIm1ha2VPZmZlciIsInNpZ25hbCIsInNkcCIsInNldFNkcCIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwib25EYXRhIiwic3Vic2NyaWJlIiwicmF3Iiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQURBQSxPQUFPLENBQUMsZ0JBQUQsQ0FBUDs7QUFFQSxJQUFNQyxTQUFTLEdBQUcsSUFBSUMsY0FBSixDQUFXO0FBQUVDLEVBQUFBLFlBQVksRUFBRSxJQUFoQjtBQUFzQkMsRUFBQUEsTUFBTSxFQUFFO0FBQTlCLENBQVgsQ0FBbEI7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUgsY0FBSixDQUFXO0FBQUVDLEVBQUFBLFlBQVksRUFBRSxJQUFoQjtBQUFzQkMsRUFBQUEsTUFBTSxFQUFFO0FBQTlCLENBQVgsQ0FBbkI7QUFFQUgsU0FBUyxDQUFDSyxTQUFWOztBQUNBTCxTQUFTLENBQUNNLE1BQVYsR0FBbUIsVUFBQ0MsR0FBRCxFQUFjO0FBQy9CSCxFQUFBQSxVQUFVLENBQUNJLE1BQVgsQ0FBa0JELEdBQWxCO0FBQ0QsQ0FGRDs7QUFHQUgsVUFBVSxDQUFDRSxNQUFYLEdBQW9CLFVBQUNDLEdBQUQsRUFBYztBQUNoQ1AsRUFBQUEsU0FBUyxDQUFDUSxNQUFWLENBQWlCRCxHQUFqQjtBQUNELENBRkQ7O0FBSUFQLFNBQVMsQ0FBQ1MsT0FBVixHQUFvQixZQUFNO0FBQ3hCQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaO0FBQ0FYLEVBQUFBLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQkMsU0FBakIsQ0FBMkIsVUFBQUMsR0FBRyxFQUFJO0FBQ2hDSixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCRyxHQUE1QjtBQUNELEdBRkQ7QUFHQWQsRUFBQUEsU0FBUyxDQUFDZSxJQUFWLENBQWUsS0FBZixFQUFzQixRQUF0QjtBQUNBZixFQUFBQSxTQUFTLENBQUNlLElBQVYsQ0FBZSxLQUFmLEVBQXNCLFFBQXRCO0FBQ0QsQ0FQRDs7QUFTQVgsVUFBVSxDQUFDSyxPQUFYLEdBQXFCLFlBQU07QUFDekJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaO0FBQ0FQLEVBQUFBLFVBQVUsQ0FBQ1EsTUFBWCxDQUFrQkMsU0FBbEIsQ0FBNEIsVUFBQUMsR0FBRyxFQUFJO0FBQ2pDSixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaLEVBQTZCRyxHQUE3QjtBQUNELEdBRkQ7QUFHQVYsRUFBQUEsVUFBVSxDQUFDVyxJQUFYLENBQWdCLEtBQWhCLEVBQXVCLFNBQXZCO0FBQ0FYLEVBQUFBLFVBQVUsQ0FBQ1csSUFBWCxDQUFnQixLQUFoQixFQUF1QixTQUF2QjtBQUNELENBUEQiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiYmFiZWwtcG9seWZpbGxcIik7XG5pbXBvcnQgV2ViUlRDIGZyb20gXCIuLi9pbmRleFwiO1xuY29uc3QgcGVlck9mZmVyID0gbmV3IFdlYlJUQyh7IGRpc2FibGVfc3R1bjogdHJ1ZSwgbm9kZUlkOiBcIm9mZmVyXCIgfSk7XG5jb25zdCBwZWVyQW5zd2VyID0gbmV3IFdlYlJUQyh7IGRpc2FibGVfc3R1bjogdHJ1ZSwgbm9kZUlkOiBcImFuc3dlclwiIH0pO1xuXG5wZWVyT2ZmZXIubWFrZU9mZmVyKCk7XG5wZWVyT2ZmZXIuc2lnbmFsID0gKHNkcDogYW55KSA9PiB7XG4gIHBlZXJBbnN3ZXIuc2V0U2RwKHNkcCk7XG59O1xucGVlckFuc3dlci5zaWduYWwgPSAoc2RwOiBhbnkpID0+IHtcbiAgcGVlck9mZmVyLnNldFNkcChzZHApO1xufTtcblxucGVlck9mZmVyLmNvbm5lY3QgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwib2ZmZXIgY29ubmVjdFwiKTtcbiAgcGVlck9mZmVyLm9uRGF0YS5zdWJzY3JpYmUocmF3ID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIm9uZGF0YSBvZmZlclwiLCByYXcpO1xuICB9KTtcbiAgcGVlck9mZmVyLnNlbmQoXCJvbmVcIiwgXCJvZmZlcjFcIik7XG4gIHBlZXJPZmZlci5zZW5kKFwidHdvXCIsIFwib2ZmZXIyXCIpO1xufTtcblxucGVlckFuc3dlci5jb25uZWN0ID0gKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcImFuc3dlciBjb25uZWN0XCIpO1xuICBwZWVyQW5zd2VyLm9uRGF0YS5zdWJzY3JpYmUocmF3ID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIm9uZGF0YSBhbnN3ZXJcIiwgcmF3KTtcbiAgfSk7XG4gIHBlZXJBbnN3ZXIuc2VuZChcIm9uZVwiLCBcImFuc3dlcjFcIik7XG4gIHBlZXJBbnN3ZXIuc2VuZChcInR3b1wiLCBcImFuc3dlcjJcIik7XG59O1xuIl19