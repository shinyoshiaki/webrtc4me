"use strict";

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require("babel-polyfill");

var peerOffer = new _index.default({
  disable_stun: true,
  nodeId: "offer"
});
var peerAnswer = new _index.default({
  disable_stun: true,
  nodeId: "answer"
});
peerOffer.makeOffer();

peerOffer.signal = function (sdp) {
  peerAnswer.makeAnswer(sdp);

  peerAnswer.signal = function (sdp) {
    peerOffer.setAnswer(sdp);
  };
};

peerOffer.connect = function () {
  console.log("offer connect");
  peerOffer.addOnData(function (raw) {
    console.log("ondata offer", raw);
  }, "offer");
  peerOffer.send("one", "offer1");
  peerOffer.send("two", "offer2");
};

peerAnswer.connect = function () {
  console.log("answer connect");
  peerAnswer.addOnData(function (raw) {
    console.log("ondata answer", raw);
  }, "answer");
  peerAnswer.send("one", "answer1");
  peerAnswer.send("two", "answer2");
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zYW1wbGUvdmFuaWxsYS50cyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwicGVlck9mZmVyIiwiV2ViUlRDIiwiZGlzYWJsZV9zdHVuIiwibm9kZUlkIiwicGVlckFuc3dlciIsIm1ha2VPZmZlciIsInNpZ25hbCIsInNkcCIsIm1ha2VBbnN3ZXIiLCJzZXRBbnN3ZXIiLCJjb25uZWN0IiwiY29uc29sZSIsImxvZyIsImFkZE9uRGF0YSIsInJhdyIsInNlbmQiXSwibWFwcGluZ3MiOiI7O0FBQ0E7Ozs7QUFEQUEsT0FBTyxDQUFDLGdCQUFELENBQVA7O0FBRUEsSUFBTUMsU0FBUyxHQUFHLElBQUlDLGNBQUosQ0FBVztBQUFFQyxFQUFBQSxZQUFZLEVBQUUsSUFBaEI7QUFBc0JDLEVBQUFBLE1BQU0sRUFBRTtBQUE5QixDQUFYLENBQWxCO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlILGNBQUosQ0FBVztBQUFFQyxFQUFBQSxZQUFZLEVBQUUsSUFBaEI7QUFBc0JDLEVBQUFBLE1BQU0sRUFBRTtBQUE5QixDQUFYLENBQW5CO0FBRUFILFNBQVMsQ0FBQ0ssU0FBVjs7QUFDQUwsU0FBUyxDQUFDTSxNQUFWLEdBQW1CLFVBQUNDLEdBQUQsRUFBYztBQUMvQkgsRUFBQUEsVUFBVSxDQUFDSSxVQUFYLENBQXNCRCxHQUF0Qjs7QUFDQUgsRUFBQUEsVUFBVSxDQUFDRSxNQUFYLEdBQW9CLFVBQUNDLEdBQUQsRUFBYztBQUNoQ1AsSUFBQUEsU0FBUyxDQUFDUyxTQUFWLENBQW9CRixHQUFwQjtBQUNELEdBRkQ7QUFHRCxDQUxEOztBQU9BUCxTQUFTLENBQUNVLE9BQVYsR0FBb0IsWUFBTTtBQUN4QkMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWjtBQUNBWixFQUFBQSxTQUFTLENBQUNhLFNBQVYsQ0FBb0IsVUFBQUMsR0FBRyxFQUFJO0FBQ3pCSCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCRSxHQUE1QjtBQUNELEdBRkQsRUFFRyxPQUZIO0FBR0FkLEVBQUFBLFNBQVMsQ0FBQ2UsSUFBVixDQUFlLEtBQWYsRUFBc0IsUUFBdEI7QUFDQWYsRUFBQUEsU0FBUyxDQUFDZSxJQUFWLENBQWUsS0FBZixFQUFzQixRQUF0QjtBQUNELENBUEQ7O0FBU0FYLFVBQVUsQ0FBQ00sT0FBWCxHQUFxQixZQUFNO0FBQ3pCQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWjtBQUNBUixFQUFBQSxVQUFVLENBQUNTLFNBQVgsQ0FBcUIsVUFBQUMsR0FBRyxFQUFJO0FBQzFCSCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaLEVBQTZCRSxHQUE3QjtBQUNELEdBRkQsRUFFRyxRQUZIO0FBR0FWLEVBQUFBLFVBQVUsQ0FBQ1csSUFBWCxDQUFnQixLQUFoQixFQUF1QixTQUF2QjtBQUNBWCxFQUFBQSxVQUFVLENBQUNXLElBQVgsQ0FBZ0IsS0FBaEIsRUFBdUIsU0FBdkI7QUFDRCxDQVBEIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZShcImJhYmVsLXBvbHlmaWxsXCIpO1xuaW1wb3J0IFdlYlJUQyBmcm9tIFwiLi4vaW5kZXhcIjtcbmNvbnN0IHBlZXJPZmZlciA9IG5ldyBXZWJSVEMoeyBkaXNhYmxlX3N0dW46IHRydWUsIG5vZGVJZDogXCJvZmZlclwiIH0pO1xuY29uc3QgcGVlckFuc3dlciA9IG5ldyBXZWJSVEMoeyBkaXNhYmxlX3N0dW46IHRydWUsIG5vZGVJZDogXCJhbnN3ZXJcIiB9KTtcblxucGVlck9mZmVyLm1ha2VPZmZlcigpO1xucGVlck9mZmVyLnNpZ25hbCA9IChzZHA6IGFueSkgPT4ge1xuICBwZWVyQW5zd2VyLm1ha2VBbnN3ZXIoc2RwKTtcbiAgcGVlckFuc3dlci5zaWduYWwgPSAoc2RwOiBhbnkpID0+IHtcbiAgICBwZWVyT2ZmZXIuc2V0QW5zd2VyKHNkcCk7XG4gIH07XG59O1xuXG5wZWVyT2ZmZXIuY29ubmVjdCA9ICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJvZmZlciBjb25uZWN0XCIpO1xuICBwZWVyT2ZmZXIuYWRkT25EYXRhKHJhdyA9PiB7XG4gICAgY29uc29sZS5sb2coXCJvbmRhdGEgb2ZmZXJcIiwgcmF3KTtcbiAgfSwgXCJvZmZlclwiKTtcbiAgcGVlck9mZmVyLnNlbmQoXCJvbmVcIiwgXCJvZmZlcjFcIik7XG4gIHBlZXJPZmZlci5zZW5kKFwidHdvXCIsIFwib2ZmZXIyXCIpO1xufTtcblxucGVlckFuc3dlci5jb25uZWN0ID0gKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcImFuc3dlciBjb25uZWN0XCIpO1xuICBwZWVyQW5zd2VyLmFkZE9uRGF0YShyYXcgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwib25kYXRhIGFuc3dlclwiLCByYXcpO1xuICB9LCBcImFuc3dlclwiKTtcbiAgcGVlckFuc3dlci5zZW5kKFwib25lXCIsIFwiYW5zd2VyMVwiKTtcbiAgcGVlckFuc3dlci5zZW5kKFwidHdvXCIsIFwiYW5zd2VyMlwiKTtcbn07XG4iXX0=