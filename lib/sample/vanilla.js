"use strict";

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require("babel-polyfill");

var peerOffer = new _index.default({
  disable_stun: true,
  nodeId: "offer"
});
var peerAnswer = new _index.default({
  disable_stun: true,
  nodeId: "answer"
});
peerOffer.makeOffer();
peerOffer.onSignal.once(function (sdp) {
  console.log({
    sdp: sdp
  });
  peerAnswer.setSdp(sdp);
});
peerAnswer.onSignal.once(function (sdp) {
  peerOffer.setSdp(sdp);
});
peerOffer.onConnect.once(function () {
  console.log("offer connect");
  peerOffer.onData.subscribe(function (raw) {
    console.log("ondata offer", raw);
  });
  peerOffer.send("one", "offer1");
  peerOffer.send("two", "offer2");
});
peerAnswer.onConnect.once(function () {
  console.log("answer connect");
  peerAnswer.onData.subscribe(function (raw) {
    console.log("ondata answer", raw);
  });
  peerAnswer.send("one", "answer1");
  peerAnswer.send("two", "answer2");
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zYW1wbGUvdmFuaWxsYS50cyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwicGVlck9mZmVyIiwiV2ViUlRDIiwiZGlzYWJsZV9zdHVuIiwibm9kZUlkIiwicGVlckFuc3dlciIsIm1ha2VPZmZlciIsIm9uU2lnbmFsIiwib25jZSIsInNkcCIsImNvbnNvbGUiLCJsb2ciLCJzZXRTZHAiLCJvbkNvbm5lY3QiLCJvbkRhdGEiLCJzdWJzY3JpYmUiLCJyYXciLCJzZW5kIl0sIm1hcHBpbmdzIjoiOztBQUNBOzs7O0FBREFBLE9BQU8sQ0FBQyxnQkFBRCxDQUFQOztBQUVBLElBQU1DLFNBQVMsR0FBRyxJQUFJQyxjQUFKLENBQVc7QUFBRUMsRUFBQUEsWUFBWSxFQUFFLElBQWhCO0FBQXNCQyxFQUFBQSxNQUFNLEVBQUU7QUFBOUIsQ0FBWCxDQUFsQjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJSCxjQUFKLENBQVc7QUFBRUMsRUFBQUEsWUFBWSxFQUFFLElBQWhCO0FBQXNCQyxFQUFBQSxNQUFNLEVBQUU7QUFBOUIsQ0FBWCxDQUFuQjtBQUVBSCxTQUFTLENBQUNLLFNBQVY7QUFDQUwsU0FBUyxDQUFDTSxRQUFWLENBQW1CQyxJQUFuQixDQUF3QixVQUFDQyxHQUFELEVBQWM7QUFDcENDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZO0FBQUVGLElBQUFBLEdBQUcsRUFBSEE7QUFBRixHQUFaO0FBQ0FKLEVBQUFBLFVBQVUsQ0FBQ08sTUFBWCxDQUFrQkgsR0FBbEI7QUFDRCxDQUhEO0FBSUFKLFVBQVUsQ0FBQ0UsUUFBWCxDQUFvQkMsSUFBcEIsQ0FBeUIsVUFBQ0MsR0FBRCxFQUFjO0FBQ3JDUixFQUFBQSxTQUFTLENBQUNXLE1BQVYsQ0FBaUJILEdBQWpCO0FBQ0QsQ0FGRDtBQUlBUixTQUFTLENBQUNZLFNBQVYsQ0FBb0JMLElBQXBCLENBQXlCLFlBQU07QUFDN0JFLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFDQVYsRUFBQUEsU0FBUyxDQUFDYSxNQUFWLENBQWlCQyxTQUFqQixDQUEyQixVQUFBQyxHQUFHLEVBQUk7QUFDaENOLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQVosRUFBNEJLLEdBQTVCO0FBQ0QsR0FGRDtBQUdBZixFQUFBQSxTQUFTLENBQUNnQixJQUFWLENBQWUsS0FBZixFQUFzQixRQUF0QjtBQUNBaEIsRUFBQUEsU0FBUyxDQUFDZ0IsSUFBVixDQUFlLEtBQWYsRUFBc0IsUUFBdEI7QUFDRCxDQVBEO0FBU0FaLFVBQVUsQ0FBQ1EsU0FBWCxDQUFxQkwsSUFBckIsQ0FBMEIsWUFBTTtBQUM5QkUsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0JBQVo7QUFDQU4sRUFBQUEsVUFBVSxDQUFDUyxNQUFYLENBQWtCQyxTQUFsQixDQUE0QixVQUFBQyxHQUFHLEVBQUk7QUFDakNOLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVosRUFBNkJLLEdBQTdCO0FBQ0QsR0FGRDtBQUdBWCxFQUFBQSxVQUFVLENBQUNZLElBQVgsQ0FBZ0IsS0FBaEIsRUFBdUIsU0FBdkI7QUFDQVosRUFBQUEsVUFBVSxDQUFDWSxJQUFYLENBQWdCLEtBQWhCLEVBQXVCLFNBQXZCO0FBQ0QsQ0FQRCIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCJiYWJlbC1wb2x5ZmlsbFwiKTtcbmltcG9ydCBXZWJSVEMgZnJvbSBcIi4uL2luZGV4XCI7XG5jb25zdCBwZWVyT2ZmZXIgPSBuZXcgV2ViUlRDKHsgZGlzYWJsZV9zdHVuOiB0cnVlLCBub2RlSWQ6IFwib2ZmZXJcIiB9KTtcbmNvbnN0IHBlZXJBbnN3ZXIgPSBuZXcgV2ViUlRDKHsgZGlzYWJsZV9zdHVuOiB0cnVlLCBub2RlSWQ6IFwiYW5zd2VyXCIgfSk7XG5cbnBlZXJPZmZlci5tYWtlT2ZmZXIoKTtcbnBlZXJPZmZlci5vblNpZ25hbC5vbmNlKChzZHA6IGFueSkgPT4ge1xuICBjb25zb2xlLmxvZyh7IHNkcCB9KTtcbiAgcGVlckFuc3dlci5zZXRTZHAoc2RwKTtcbn0pO1xucGVlckFuc3dlci5vblNpZ25hbC5vbmNlKChzZHA6IGFueSkgPT4ge1xuICBwZWVyT2ZmZXIuc2V0U2RwKHNkcCk7XG59KTtcblxucGVlck9mZmVyLm9uQ29ubmVjdC5vbmNlKCgpID0+IHtcbiAgY29uc29sZS5sb2coXCJvZmZlciBjb25uZWN0XCIpO1xuICBwZWVyT2ZmZXIub25EYXRhLnN1YnNjcmliZShyYXcgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwib25kYXRhIG9mZmVyXCIsIHJhdyk7XG4gIH0pO1xuICBwZWVyT2ZmZXIuc2VuZChcIm9uZVwiLCBcIm9mZmVyMVwiKTtcbiAgcGVlck9mZmVyLnNlbmQoXCJ0d29cIiwgXCJvZmZlcjJcIik7XG59KTtcblxucGVlckFuc3dlci5vbkNvbm5lY3Qub25jZSgoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiYW5zd2VyIGNvbm5lY3RcIik7XG4gIHBlZXJBbnN3ZXIub25EYXRhLnN1YnNjcmliZShyYXcgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwib25kYXRhIGFuc3dlclwiLCByYXcpO1xuICB9KTtcbiAgcGVlckFuc3dlci5zZW5kKFwib25lXCIsIFwiYW5zd2VyMVwiKTtcbiAgcGVlckFuc3dlci5zZW5kKFwidHdvXCIsIFwiYW5zd2VyMlwiKTtcbn0pO1xuIl19