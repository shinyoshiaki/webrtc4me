"use strict";

var _event = _interopRequireDefault(require("../utill/event"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var testEvent = new _event["default"]();
test("event", function () {
  var _testEvent$subscribe = testEvent.subscribe(function (data) {
    expect(data.msg).toBe("1");
  }),
      unSubscribe = _testEvent$subscribe.unSubscribe;

  testEvent.subscribe(function (data) {
    expect(data.msg).toBe("1");
  });
  testEvent.excute({
    msg: "1"
  });
  expect(testEvent.event.stack.length).toBe(2);
  unSubscribe();
  expect(testEvent.event.stack.length).toBe(1);
  testEvent.once(function () {
    expect(testEvent.event.stack.length).toBe(1);
  });
  expect(testEvent.event.stack.length).toBe(2);
  testEvent.excute({
    msg: "1"
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy9ldmVudC50ZXN0LnRzIl0sIm5hbWVzIjpbInRlc3RFdmVudCIsIkV2ZW50IiwidGVzdCIsInN1YnNjcmliZSIsImRhdGEiLCJleHBlY3QiLCJtc2ciLCJ0b0JlIiwidW5TdWJzY3JpYmUiLCJleGN1dGUiLCJldmVudCIsInN0YWNrIiwibGVuZ3RoIiwib25jZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUVBLElBQU1BLFNBQVMsR0FBRyxJQUFJQyxpQkFBSixFQUFsQjtBQUVBQyxJQUFJLENBQUMsT0FBRCxFQUFVLFlBQU07QUFBQSw2QkFDTUYsU0FBUyxDQUFDRyxTQUFWLENBQW9CLFVBQUFDLElBQUksRUFBSTtBQUNsREMsSUFBQUEsTUFBTSxDQUFDRCxJQUFJLENBQUNFLEdBQU4sQ0FBTixDQUFpQkMsSUFBakIsQ0FBc0IsR0FBdEI7QUFDRCxHQUZ1QixDQUROO0FBQUEsTUFDVkMsV0FEVSx3QkFDVkEsV0FEVTs7QUFLbEJSLEVBQUFBLFNBQVMsQ0FBQ0csU0FBVixDQUFvQixVQUFBQyxJQUFJLEVBQUk7QUFDMUJDLElBQUFBLE1BQU0sQ0FBQ0QsSUFBSSxDQUFDRSxHQUFOLENBQU4sQ0FBaUJDLElBQWpCLENBQXNCLEdBQXRCO0FBQ0QsR0FGRDtBQUlBUCxFQUFBQSxTQUFTLENBQUNTLE1BQVYsQ0FBaUI7QUFBRUgsSUFBQUEsR0FBRyxFQUFFO0FBQVAsR0FBakI7QUFFQUQsRUFBQUEsTUFBTSxDQUFFTCxTQUFELENBQW1CVSxLQUFuQixDQUF5QkMsS0FBekIsQ0FBK0JDLE1BQWhDLENBQU4sQ0FBOENMLElBQTlDLENBQW1ELENBQW5EO0FBQ0FDLEVBQUFBLFdBQVc7QUFDWEgsRUFBQUEsTUFBTSxDQUFFTCxTQUFELENBQW1CVSxLQUFuQixDQUF5QkMsS0FBekIsQ0FBK0JDLE1BQWhDLENBQU4sQ0FBOENMLElBQTlDLENBQW1ELENBQW5EO0FBRUFQLEVBQUFBLFNBQVMsQ0FBQ2EsSUFBVixDQUFlLFlBQU07QUFDbkJSLElBQUFBLE1BQU0sQ0FBRUwsU0FBRCxDQUFtQlUsS0FBbkIsQ0FBeUJDLEtBQXpCLENBQStCQyxNQUFoQyxDQUFOLENBQThDTCxJQUE5QyxDQUFtRCxDQUFuRDtBQUNELEdBRkQ7QUFHQUYsRUFBQUEsTUFBTSxDQUFFTCxTQUFELENBQW1CVSxLQUFuQixDQUF5QkMsS0FBekIsQ0FBK0JDLE1BQWhDLENBQU4sQ0FBOENMLElBQTlDLENBQW1ELENBQW5EO0FBQ0FQLEVBQUFBLFNBQVMsQ0FBQ1MsTUFBVixDQUFpQjtBQUFFSCxJQUFBQSxHQUFHLEVBQUU7QUFBUCxHQUFqQjtBQUNELENBcEJHLENBQUoiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXZlbnQgZnJvbSBcIi4uL3V0aWxsL2V2ZW50XCI7XG5cbmNvbnN0IHRlc3RFdmVudCA9IG5ldyBFdmVudDx7IG1zZzogc3RyaW5nIH0+KCk7XG5cbnRlc3QoXCJldmVudFwiLCAoKSA9PiB7XG4gIGNvbnN0IHsgdW5TdWJzY3JpYmUgfSA9IHRlc3RFdmVudC5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgZXhwZWN0KGRhdGEubXNnKS50b0JlKFwiMVwiKTtcbiAgfSk7XG5cbiAgdGVzdEV2ZW50LnN1YnNjcmliZShkYXRhID0+IHtcbiAgICBleHBlY3QoZGF0YS5tc2cpLnRvQmUoXCIxXCIpO1xuICB9KTtcblxuICB0ZXN0RXZlbnQuZXhjdXRlKHsgbXNnOiBcIjFcIiB9KTtcblxuICBleHBlY3QoKHRlc3RFdmVudCBhcyBhbnkpLmV2ZW50LnN0YWNrLmxlbmd0aCkudG9CZSgyKTtcbiAgdW5TdWJzY3JpYmUoKTtcbiAgZXhwZWN0KCh0ZXN0RXZlbnQgYXMgYW55KS5ldmVudC5zdGFjay5sZW5ndGgpLnRvQmUoMSk7XG5cbiAgdGVzdEV2ZW50Lm9uY2UoKCkgPT4ge1xuICAgIGV4cGVjdCgodGVzdEV2ZW50IGFzIGFueSkuZXZlbnQuc3RhY2subGVuZ3RoKS50b0JlKDEpO1xuICB9KTtcbiAgZXhwZWN0KCh0ZXN0RXZlbnQgYXMgYW55KS5ldmVudC5zdGFjay5sZW5ndGgpLnRvQmUoMik7XG4gIHRlc3RFdmVudC5leGN1dGUoeyBtc2c6IFwiMVwiIH0pO1xufSk7XG4iXX0=