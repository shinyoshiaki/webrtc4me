"use strict";

var _event = _interopRequireDefault(require("../utill/event"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var testEvent = new _event.default();
test("event", function () {
  var _testEvent$subscribe = testEvent.subscribe(function (data) {
    expect(data.msg).toBe("1");
  }),
      unSubscribe = _testEvent$subscribe.unSubscribe;

  testEvent.subscribe(function (data) {
    expect(data.msg).toBe("1");
  });
  testEvent.excute({
    msg: "1"
  });
  expect(testEvent.event.stack.length).toBe(2);
  unSubscribe();
  expect(testEvent.event.stack.length).toBe(1);
  testEvent.once(function () {
    expect(testEvent.event.stack.length).toBe(1);
  });
  expect(testEvent.event.stack.length).toBe(2);
  testEvent.excute({
    msg: "1"
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy9ldmVudC50ZXN0LnRzIl0sIm5hbWVzIjpbInRlc3RFdmVudCIsIkV2ZW50IiwidGVzdCIsInN1YnNjcmliZSIsImRhdGEiLCJleHBlY3QiLCJtc2ciLCJ0b0JlIiwidW5TdWJzY3JpYmUiLCJleGN1dGUiLCJldmVudCIsInN0YWNrIiwibGVuZ3RoIiwib25jZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUVBLElBQU1BLFNBQVMsR0FBRyxJQUFJQyxjQUFKLEVBQWxCO0FBRUFDLElBQUksQ0FBQyxPQUFELEVBQVUsWUFBTTtBQUFBLDZCQUNNRixTQUFTLENBQUNHLFNBQVYsQ0FBb0IsVUFBQUMsSUFBSSxFQUFJO0FBQ2xEQyxJQUFBQSxNQUFNLENBQUNELElBQUksQ0FBQ0UsR0FBTixDQUFOLENBQWlCQyxJQUFqQixDQUFzQixHQUF0QjtBQUNELEdBRnVCLENBRE47QUFBQSxNQUNWQyxXQURVLHdCQUNWQSxXQURVOztBQUtsQlIsRUFBQUEsU0FBUyxDQUFDRyxTQUFWLENBQW9CLFVBQUFDLElBQUksRUFBSTtBQUMxQkMsSUFBQUEsTUFBTSxDQUFDRCxJQUFJLENBQUNFLEdBQU4sQ0FBTixDQUFpQkMsSUFBakIsQ0FBc0IsR0FBdEI7QUFDRCxHQUZEO0FBSUFQLEVBQUFBLFNBQVMsQ0FBQ1MsTUFBVixDQUFpQjtBQUFFSCxJQUFBQSxHQUFHLEVBQUU7QUFBUCxHQUFqQjtBQUVBRCxFQUFBQSxNQUFNLENBQUVMLFNBQUQsQ0FBbUJVLEtBQW5CLENBQXlCQyxLQUF6QixDQUErQkMsTUFBaEMsQ0FBTixDQUE4Q0wsSUFBOUMsQ0FBbUQsQ0FBbkQ7QUFDQUMsRUFBQUEsV0FBVztBQUNYSCxFQUFBQSxNQUFNLENBQUVMLFNBQUQsQ0FBbUJVLEtBQW5CLENBQXlCQyxLQUF6QixDQUErQkMsTUFBaEMsQ0FBTixDQUE4Q0wsSUFBOUMsQ0FBbUQsQ0FBbkQ7QUFFQVAsRUFBQUEsU0FBUyxDQUFDYSxJQUFWLENBQWUsWUFBTTtBQUNuQlIsSUFBQUEsTUFBTSxDQUFFTCxTQUFELENBQW1CVSxLQUFuQixDQUF5QkMsS0FBekIsQ0FBK0JDLE1BQWhDLENBQU4sQ0FBOENMLElBQTlDLENBQW1ELENBQW5EO0FBQ0QsR0FGRDtBQUdBRixFQUFBQSxNQUFNLENBQUVMLFNBQUQsQ0FBbUJVLEtBQW5CLENBQXlCQyxLQUF6QixDQUErQkMsTUFBaEMsQ0FBTixDQUE4Q0wsSUFBOUMsQ0FBbUQsQ0FBbkQ7QUFDQVAsRUFBQUEsU0FBUyxDQUFDUyxNQUFWLENBQWlCO0FBQUVILElBQUFBLEdBQUcsRUFBRTtBQUFQLEdBQWpCO0FBQ0QsQ0FwQkcsQ0FBSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudCBmcm9tIFwiLi4vdXRpbGwvZXZlbnRcIjtcblxuY29uc3QgdGVzdEV2ZW50ID0gbmV3IEV2ZW50PHsgbXNnOiBzdHJpbmcgfT4oKTtcblxudGVzdChcImV2ZW50XCIsICgpID0+IHtcbiAgY29uc3QgeyB1blN1YnNjcmliZSB9ID0gdGVzdEV2ZW50LnN1YnNjcmliZShkYXRhID0+IHtcbiAgICBleHBlY3QoZGF0YS5tc2cpLnRvQmUoXCIxXCIpO1xuICB9KTtcblxuICB0ZXN0RXZlbnQuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgIGV4cGVjdChkYXRhLm1zZykudG9CZShcIjFcIik7XG4gIH0pO1xuXG4gIHRlc3RFdmVudC5leGN1dGUoeyBtc2c6IFwiMVwiIH0pO1xuXG4gIGV4cGVjdCgodGVzdEV2ZW50IGFzIGFueSkuZXZlbnQuc3RhY2subGVuZ3RoKS50b0JlKDIpO1xuICB1blN1YnNjcmliZSgpO1xuICBleHBlY3QoKHRlc3RFdmVudCBhcyBhbnkpLmV2ZW50LnN0YWNrLmxlbmd0aCkudG9CZSgxKTtcblxuICB0ZXN0RXZlbnQub25jZSgoKSA9PiB7XG4gICAgZXhwZWN0KCh0ZXN0RXZlbnQgYXMgYW55KS5ldmVudC5zdGFjay5sZW5ndGgpLnRvQmUoMSk7XG4gIH0pO1xuICBleHBlY3QoKHRlc3RFdmVudCBhcyBhbnkpLmV2ZW50LnN0YWNrLmxlbmd0aCkudG9CZSgyKTtcbiAgdGVzdEV2ZW50LmV4Y3V0ZSh7IG1zZzogXCIxXCIgfSk7XG59KTtcbiJdfQ==