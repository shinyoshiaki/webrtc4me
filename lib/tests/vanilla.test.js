"use strict";

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var peerOffer = new _index.default({
  disable_stun: true,
  nodeId: "offer"
});
var peerAnswer = new _index.default({
  disable_stun: true,
  nodeId: "answer"
});
test("vanilla", function () {
  peerOffer.makeOffer();

  peerOffer.signal = function (sdp) {
    peerAnswer.setSdp(sdp);
  };

  peerAnswer.signal = function (sdp) {
    peerOffer.setSdp(sdp);
  };

  peerOffer.connect = function () {
    peerOffer.onData.subscribe(function (raw) {
      expect(raw.data).toBe("answer");
    });
    peerOffer.send("offer");
  };

  peerAnswer.connect = function () {
    peerAnswer.onData.subscribe(function (raw) {
      expect(raw.data).toBe("offer");
    });
    peerAnswer.send("answer");
  };
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy92YW5pbGxhLnRlc3QudHMiXSwibmFtZXMiOlsicGVlck9mZmVyIiwiV2ViUlRDIiwiZGlzYWJsZV9zdHVuIiwibm9kZUlkIiwicGVlckFuc3dlciIsInRlc3QiLCJtYWtlT2ZmZXIiLCJzaWduYWwiLCJzZHAiLCJzZXRTZHAiLCJjb25uZWN0Iiwib25EYXRhIiwic3Vic2NyaWJlIiwicmF3IiwiZXhwZWN0IiwiZGF0YSIsInRvQmUiLCJzZW5kIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0EsSUFBTUEsU0FBUyxHQUFHLElBQUlDLGNBQUosQ0FBVztBQUFFQyxFQUFBQSxZQUFZLEVBQUUsSUFBaEI7QUFBc0JDLEVBQUFBLE1BQU0sRUFBRTtBQUE5QixDQUFYLENBQWxCO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlILGNBQUosQ0FBVztBQUFFQyxFQUFBQSxZQUFZLEVBQUUsSUFBaEI7QUFBc0JDLEVBQUFBLE1BQU0sRUFBRTtBQUE5QixDQUFYLENBQW5CO0FBRUFFLElBQUksQ0FBQyxTQUFELEVBQVksWUFBTTtBQUNwQkwsRUFBQUEsU0FBUyxDQUFDTSxTQUFWOztBQUNBTixFQUFBQSxTQUFTLENBQUNPLE1BQVYsR0FBbUIsVUFBQ0MsR0FBRCxFQUFjO0FBQy9CSixJQUFBQSxVQUFVLENBQUNLLE1BQVgsQ0FBa0JELEdBQWxCO0FBQ0QsR0FGRDs7QUFHQUosRUFBQUEsVUFBVSxDQUFDRyxNQUFYLEdBQW9CLFVBQUNDLEdBQUQsRUFBYztBQUNoQ1IsSUFBQUEsU0FBUyxDQUFDUyxNQUFWLENBQWlCRCxHQUFqQjtBQUNELEdBRkQ7O0FBSUFSLEVBQUFBLFNBQVMsQ0FBQ1UsT0FBVixHQUFvQixZQUFNO0FBQ3hCVixJQUFBQSxTQUFTLENBQUNXLE1BQVYsQ0FBaUJDLFNBQWpCLENBQTJCLFVBQUFDLEdBQUcsRUFBSTtBQUNoQ0MsTUFBQUEsTUFBTSxDQUFDRCxHQUFHLENBQUNFLElBQUwsQ0FBTixDQUFpQkMsSUFBakIsQ0FBc0IsUUFBdEI7QUFDRCxLQUZEO0FBR0FoQixJQUFBQSxTQUFTLENBQUNpQixJQUFWLENBQWUsT0FBZjtBQUNELEdBTEQ7O0FBT0FiLEVBQUFBLFVBQVUsQ0FBQ00sT0FBWCxHQUFxQixZQUFNO0FBQ3pCTixJQUFBQSxVQUFVLENBQUNPLE1BQVgsQ0FBa0JDLFNBQWxCLENBQTRCLFVBQUFDLEdBQUcsRUFBSTtBQUNqQ0MsTUFBQUEsTUFBTSxDQUFDRCxHQUFHLENBQUNFLElBQUwsQ0FBTixDQUFpQkMsSUFBakIsQ0FBc0IsT0FBdEI7QUFDRCxLQUZEO0FBR0FaLElBQUFBLFVBQVUsQ0FBQ2EsSUFBWCxDQUFnQixRQUFoQjtBQUNELEdBTEQ7QUFNRCxDQXRCRyxDQUFKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFdlYlJUQyBmcm9tIFwiLi4vaW5kZXhcIjtcbmNvbnN0IHBlZXJPZmZlciA9IG5ldyBXZWJSVEMoeyBkaXNhYmxlX3N0dW46IHRydWUsIG5vZGVJZDogXCJvZmZlclwiIH0pO1xuY29uc3QgcGVlckFuc3dlciA9IG5ldyBXZWJSVEMoeyBkaXNhYmxlX3N0dW46IHRydWUsIG5vZGVJZDogXCJhbnN3ZXJcIiB9KTtcblxudGVzdChcInZhbmlsbGFcIiwgKCkgPT4ge1xuICBwZWVyT2ZmZXIubWFrZU9mZmVyKCk7XG4gIHBlZXJPZmZlci5zaWduYWwgPSAoc2RwOiBhbnkpID0+IHtcbiAgICBwZWVyQW5zd2VyLnNldFNkcChzZHApO1xuICB9O1xuICBwZWVyQW5zd2VyLnNpZ25hbCA9IChzZHA6IGFueSkgPT4ge1xuICAgIHBlZXJPZmZlci5zZXRTZHAoc2RwKTtcbiAgfTtcblxuICBwZWVyT2ZmZXIuY29ubmVjdCA9ICgpID0+IHtcbiAgICBwZWVyT2ZmZXIub25EYXRhLnN1YnNjcmliZShyYXcgPT4ge1xuICAgICAgZXhwZWN0KHJhdy5kYXRhKS50b0JlKFwiYW5zd2VyXCIpO1xuICAgIH0pO1xuICAgIHBlZXJPZmZlci5zZW5kKFwib2ZmZXJcIik7XG4gIH07XG5cbiAgcGVlckFuc3dlci5jb25uZWN0ID0gKCkgPT4ge1xuICAgIHBlZXJBbnN3ZXIub25EYXRhLnN1YnNjcmliZShyYXcgPT4ge1xuICAgICAgZXhwZWN0KHJhdy5kYXRhKS50b0JlKFwib2ZmZXJcIik7XG4gICAgfSk7XG4gICAgcGVlckFuc3dlci5zZW5kKFwiYW5zd2VyXCIpO1xuICB9O1xufSk7XG4iXX0=