"use strict";

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var peerOffer = new _index["default"]({
  disable_stun: true,
  nodeId: "offer"
});
var peerAnswer = new _index["default"]({
  disable_stun: true,
  nodeId: "answer"
});
test("vanilla", function () {
  peerOffer.makeOffer();
  peerOffer.onSignal.once(function (sdp) {
    peerAnswer.setSdp(sdp);
  });
  peerAnswer.onSignal.once(function (sdp) {
    peerOffer.setSdp(sdp);
  });
  peerOffer.onConnect.once(function () {
    peerOffer.onData.subscribe(function (raw) {
      expect(raw.data).toBe("answer");
    });
    peerOffer.send("offer");
  });
  peerAnswer.onConnect.once(function () {
    peerAnswer.onData.subscribe(function (raw) {
      expect(raw.data).toBe("offer");
    });
    peerAnswer.send("answer");
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy92YW5pbGxhLnRlc3QudHMiXSwibmFtZXMiOlsicGVlck9mZmVyIiwiV2ViUlRDIiwiZGlzYWJsZV9zdHVuIiwibm9kZUlkIiwicGVlckFuc3dlciIsInRlc3QiLCJtYWtlT2ZmZXIiLCJvblNpZ25hbCIsIm9uY2UiLCJzZHAiLCJzZXRTZHAiLCJvbkNvbm5lY3QiLCJvbkRhdGEiLCJzdWJzY3JpYmUiLCJyYXciLCJleHBlY3QiLCJkYXRhIiwidG9CZSIsInNlbmQiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQSxJQUFNQSxTQUFTLEdBQUcsSUFBSUMsaUJBQUosQ0FBVztBQUFFQyxFQUFBQSxZQUFZLEVBQUUsSUFBaEI7QUFBc0JDLEVBQUFBLE1BQU0sRUFBRTtBQUE5QixDQUFYLENBQWxCO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlILGlCQUFKLENBQVc7QUFBRUMsRUFBQUEsWUFBWSxFQUFFLElBQWhCO0FBQXNCQyxFQUFBQSxNQUFNLEVBQUU7QUFBOUIsQ0FBWCxDQUFuQjtBQUVBRSxJQUFJLENBQUMsU0FBRCxFQUFZLFlBQU07QUFDcEJMLEVBQUFBLFNBQVMsQ0FBQ00sU0FBVjtBQUNBTixFQUFBQSxTQUFTLENBQUNPLFFBQVYsQ0FBbUJDLElBQW5CLENBQXdCLFVBQUNDLEdBQUQsRUFBYztBQUNwQ0wsSUFBQUEsVUFBVSxDQUFDTSxNQUFYLENBQWtCRCxHQUFsQjtBQUNELEdBRkQ7QUFHQUwsRUFBQUEsVUFBVSxDQUFDRyxRQUFYLENBQW9CQyxJQUFwQixDQUF5QixVQUFDQyxHQUFELEVBQWM7QUFDckNULElBQUFBLFNBQVMsQ0FBQ1UsTUFBVixDQUFpQkQsR0FBakI7QUFDRCxHQUZEO0FBSUFULEVBQUFBLFNBQVMsQ0FBQ1csU0FBVixDQUFvQkgsSUFBcEIsQ0FBeUIsWUFBTTtBQUM3QlIsSUFBQUEsU0FBUyxDQUFDWSxNQUFWLENBQWlCQyxTQUFqQixDQUEyQixVQUFBQyxHQUFHLEVBQUk7QUFDaENDLE1BQUFBLE1BQU0sQ0FBQ0QsR0FBRyxDQUFDRSxJQUFMLENBQU4sQ0FBaUJDLElBQWpCLENBQXNCLFFBQXRCO0FBQ0QsS0FGRDtBQUdBakIsSUFBQUEsU0FBUyxDQUFDa0IsSUFBVixDQUFlLE9BQWY7QUFDRCxHQUxEO0FBT0FkLEVBQUFBLFVBQVUsQ0FBQ08sU0FBWCxDQUFxQkgsSUFBckIsQ0FBMEIsWUFBTTtBQUM5QkosSUFBQUEsVUFBVSxDQUFDUSxNQUFYLENBQWtCQyxTQUFsQixDQUE0QixVQUFBQyxHQUFHLEVBQUk7QUFDakNDLE1BQUFBLE1BQU0sQ0FBQ0QsR0FBRyxDQUFDRSxJQUFMLENBQU4sQ0FBaUJDLElBQWpCLENBQXNCLE9BQXRCO0FBQ0QsS0FGRDtBQUdBYixJQUFBQSxVQUFVLENBQUNjLElBQVgsQ0FBZ0IsUUFBaEI7QUFDRCxHQUxEO0FBTUQsQ0F0QkcsQ0FBSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWJSVEMgZnJvbSBcIi4uL2luZGV4XCI7XG5jb25zdCBwZWVyT2ZmZXIgPSBuZXcgV2ViUlRDKHsgZGlzYWJsZV9zdHVuOiB0cnVlLCBub2RlSWQ6IFwib2ZmZXJcIiB9KTtcbmNvbnN0IHBlZXJBbnN3ZXIgPSBuZXcgV2ViUlRDKHsgZGlzYWJsZV9zdHVuOiB0cnVlLCBub2RlSWQ6IFwiYW5zd2VyXCIgfSk7XG5cbnRlc3QoXCJ2YW5pbGxhXCIsICgpID0+IHtcbiAgcGVlck9mZmVyLm1ha2VPZmZlcigpO1xuICBwZWVyT2ZmZXIub25TaWduYWwub25jZSgoc2RwOiBhbnkpID0+IHtcbiAgICBwZWVyQW5zd2VyLnNldFNkcChzZHApO1xuICB9KTtcbiAgcGVlckFuc3dlci5vblNpZ25hbC5vbmNlKChzZHA6IGFueSkgPT4ge1xuICAgIHBlZXJPZmZlci5zZXRTZHAoc2RwKTtcbiAgfSk7XG5cbiAgcGVlck9mZmVyLm9uQ29ubmVjdC5vbmNlKCgpID0+IHtcbiAgICBwZWVyT2ZmZXIub25EYXRhLnN1YnNjcmliZShyYXcgPT4ge1xuICAgICAgZXhwZWN0KHJhdy5kYXRhKS50b0JlKFwiYW5zd2VyXCIpO1xuICAgIH0pO1xuICAgIHBlZXJPZmZlci5zZW5kKFwib2ZmZXJcIik7XG4gIH0pO1xuXG4gIHBlZXJBbnN3ZXIub25Db25uZWN0Lm9uY2UoKCkgPT4ge1xuICAgIHBlZXJBbnN3ZXIub25EYXRhLnN1YnNjcmliZShyYXcgPT4ge1xuICAgICAgZXhwZWN0KHJhdy5kYXRhKS50b0JlKFwib2ZmZXJcIik7XG4gICAgfSk7XG4gICAgcGVlckFuc3dlci5zZW5kKFwiYW5zd2VyXCIpO1xuICB9KTtcbn0pO1xuIl19