"use strict";

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var peerOffer = new _index.default({
  disable_stun: true,
  nodeId: "offer"
});
var peerAnswer = new _index.default({
  disable_stun: true,
  nodeId: "answer"
});
test("vanilla", function () {
  peerOffer.makeOffer();
  peerOffer.onSignal.once(function (sdp) {
    peerAnswer.setSdp(sdp);
  });
  peerAnswer.onSignal.once(function (sdp) {
    peerOffer.setSdp(sdp);
  });
  peerOffer.onConnect.once(function () {
    peerOffer.onData.subscribe(function (raw) {
      expect(raw.data).toBe("answer");
    });
    peerOffer.send("offer");
  });
  peerAnswer.onConnect.once(function () {
    peerAnswer.onData.subscribe(function (raw) {
      expect(raw.data).toBe("offer");
    });
    peerAnswer.send("answer");
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0cy92YW5pbGxhLnRlc3QudHMiXSwibmFtZXMiOlsicGVlck9mZmVyIiwiV2ViUlRDIiwiZGlzYWJsZV9zdHVuIiwibm9kZUlkIiwicGVlckFuc3dlciIsInRlc3QiLCJtYWtlT2ZmZXIiLCJvblNpZ25hbCIsIm9uY2UiLCJzZHAiLCJzZXRTZHAiLCJvbkNvbm5lY3QiLCJvbkRhdGEiLCJzdWJzY3JpYmUiLCJyYXciLCJleHBlY3QiLCJkYXRhIiwidG9CZSIsInNlbmQiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQSxJQUFNQSxTQUFTLEdBQUcsSUFBSUMsY0FBSixDQUFXO0FBQUVDLEVBQUFBLFlBQVksRUFBRSxJQUFoQjtBQUFzQkMsRUFBQUEsTUFBTSxFQUFFO0FBQTlCLENBQVgsQ0FBbEI7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUgsY0FBSixDQUFXO0FBQUVDLEVBQUFBLFlBQVksRUFBRSxJQUFoQjtBQUFzQkMsRUFBQUEsTUFBTSxFQUFFO0FBQTlCLENBQVgsQ0FBbkI7QUFFQUUsSUFBSSxDQUFDLFNBQUQsRUFBWSxZQUFNO0FBQ3BCTCxFQUFBQSxTQUFTLENBQUNNLFNBQVY7QUFDQU4sRUFBQUEsU0FBUyxDQUFDTyxRQUFWLENBQW1CQyxJQUFuQixDQUF3QixVQUFDQyxHQUFELEVBQWM7QUFDcENMLElBQUFBLFVBQVUsQ0FBQ00sTUFBWCxDQUFrQkQsR0FBbEI7QUFDRCxHQUZEO0FBR0FMLEVBQUFBLFVBQVUsQ0FBQ0csUUFBWCxDQUFvQkMsSUFBcEIsQ0FBeUIsVUFBQ0MsR0FBRCxFQUFjO0FBQ3JDVCxJQUFBQSxTQUFTLENBQUNVLE1BQVYsQ0FBaUJELEdBQWpCO0FBQ0QsR0FGRDtBQUlBVCxFQUFBQSxTQUFTLENBQUNXLFNBQVYsQ0FBb0JILElBQXBCLENBQXlCLFlBQU07QUFDN0JSLElBQUFBLFNBQVMsQ0FBQ1ksTUFBVixDQUFpQkMsU0FBakIsQ0FBMkIsVUFBQUMsR0FBRyxFQUFJO0FBQ2hDQyxNQUFBQSxNQUFNLENBQUNELEdBQUcsQ0FBQ0UsSUFBTCxDQUFOLENBQWlCQyxJQUFqQixDQUFzQixRQUF0QjtBQUNELEtBRkQ7QUFHQWpCLElBQUFBLFNBQVMsQ0FBQ2tCLElBQVYsQ0FBZSxPQUFmO0FBQ0QsR0FMRDtBQU9BZCxFQUFBQSxVQUFVLENBQUNPLFNBQVgsQ0FBcUJILElBQXJCLENBQTBCLFlBQU07QUFDOUJKLElBQUFBLFVBQVUsQ0FBQ1EsTUFBWCxDQUFrQkMsU0FBbEIsQ0FBNEIsVUFBQUMsR0FBRyxFQUFJO0FBQ2pDQyxNQUFBQSxNQUFNLENBQUNELEdBQUcsQ0FBQ0UsSUFBTCxDQUFOLENBQWlCQyxJQUFqQixDQUFzQixPQUF0QjtBQUNELEtBRkQ7QUFHQWIsSUFBQUEsVUFBVSxDQUFDYyxJQUFYLENBQWdCLFFBQWhCO0FBQ0QsR0FMRDtBQU1ELENBdEJHLENBQUoiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV2ViUlRDIGZyb20gXCIuLi9pbmRleFwiO1xuY29uc3QgcGVlck9mZmVyID0gbmV3IFdlYlJUQyh7IGRpc2FibGVfc3R1bjogdHJ1ZSwgbm9kZUlkOiBcIm9mZmVyXCIgfSk7XG5jb25zdCBwZWVyQW5zd2VyID0gbmV3IFdlYlJUQyh7IGRpc2FibGVfc3R1bjogdHJ1ZSwgbm9kZUlkOiBcImFuc3dlclwiIH0pO1xuXG50ZXN0KFwidmFuaWxsYVwiLCAoKSA9PiB7XG4gIHBlZXJPZmZlci5tYWtlT2ZmZXIoKTtcbiAgcGVlck9mZmVyLm9uU2lnbmFsLm9uY2UoKHNkcDogYW55KSA9PiB7XG4gICAgcGVlckFuc3dlci5zZXRTZHAoc2RwKTtcbiAgfSk7XG4gIHBlZXJBbnN3ZXIub25TaWduYWwub25jZSgoc2RwOiBhbnkpID0+IHtcbiAgICBwZWVyT2ZmZXIuc2V0U2RwKHNkcCk7XG4gIH0pO1xuXG4gIHBlZXJPZmZlci5vbkNvbm5lY3Qub25jZSgoKSA9PiB7XG4gICAgcGVlck9mZmVyLm9uRGF0YS5zdWJzY3JpYmUocmF3ID0+IHtcbiAgICAgIGV4cGVjdChyYXcuZGF0YSkudG9CZShcImFuc3dlclwiKTtcbiAgICB9KTtcbiAgICBwZWVyT2ZmZXIuc2VuZChcIm9mZmVyXCIpO1xuICB9KTtcblxuICBwZWVyQW5zd2VyLm9uQ29ubmVjdC5vbmNlKCgpID0+IHtcbiAgICBwZWVyQW5zd2VyLm9uRGF0YS5zdWJzY3JpYmUocmF3ID0+IHtcbiAgICAgIGV4cGVjdChyYXcuZGF0YSkudG9CZShcIm9mZmVyXCIpO1xuICAgIH0pO1xuICAgIHBlZXJBbnN3ZXIuc2VuZChcImFuc3dlclwiKTtcbiAgfSk7XG59KTtcbiJdfQ==