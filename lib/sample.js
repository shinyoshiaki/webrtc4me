"use strict";

var _index = _interopRequireDefault(require("./index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require("babel-polyfill");

var peerOffer = new _index.default();
var peerAnswer = new _index.default();
peerOffer.makeOffer({
  disable_stun: true,
  nodeId: "offer"
});

peerOffer.signal = function (sdp) {
  console.log("offer signal");
  peerAnswer.makeAnswer(sdp, {
    disable_stun: true,
    nodeId: "answer"
  });

  peerAnswer.signal = function (sdp) {
    console.log("answer signal");
    peerOffer.setAnswer(sdp);
  };
};

peerOffer.connect = function () {
  console.log("offer connect");
  peerOffer.addOnData("offer", function (raw) {
    console.log("ondata offer", raw);
  });
  peerOffer.send("one", "offer1");
  peerOffer.send("two", "offer2");
};

peerAnswer.connect = function () {
  console.log("answer connect");
  peerAnswer.addOnData("answer", function (raw) {
    console.log("ondata answer", raw);
  });
  peerAnswer.send("one", "answer1");
  peerAnswer.send("two", "answer2");
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zYW1wbGUudHMiXSwibmFtZXMiOlsicmVxdWlyZSIsInBlZXJPZmZlciIsIldlYlJUQyIsInBlZXJBbnN3ZXIiLCJtYWtlT2ZmZXIiLCJkaXNhYmxlX3N0dW4iLCJub2RlSWQiLCJzaWduYWwiLCJzZHAiLCJjb25zb2xlIiwibG9nIiwibWFrZUFuc3dlciIsInNldEFuc3dlciIsImNvbm5lY3QiLCJhZGRPbkRhdGEiLCJyYXciLCJzZW5kIl0sIm1hcHBpbmdzIjoiOztBQUNBOzs7O0FBREFBLE9BQU8sQ0FBQyxnQkFBRCxDQUFQOztBQUVBLElBQU1DLFNBQVMsR0FBRyxJQUFJQyxjQUFKLEVBQWxCO0FBQ0EsSUFBTUMsVUFBVSxHQUFHLElBQUlELGNBQUosRUFBbkI7QUFFQUQsU0FBUyxDQUFDRyxTQUFWLENBQW9CO0FBQUVDLEVBQUFBLFlBQVksRUFBRSxJQUFoQjtBQUFzQkMsRUFBQUEsTUFBTSxFQUFFO0FBQTlCLENBQXBCOztBQUNBTCxTQUFTLENBQUNNLE1BQVYsR0FBbUIsVUFBQUMsR0FBRyxFQUFJO0FBQ3hCQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaO0FBQ0FQLEVBQUFBLFVBQVUsQ0FBQ1EsVUFBWCxDQUFzQkgsR0FBdEIsRUFBMkI7QUFBRUgsSUFBQUEsWUFBWSxFQUFFLElBQWhCO0FBQXNCQyxJQUFBQSxNQUFNLEVBQUU7QUFBOUIsR0FBM0I7O0FBQ0FILEVBQUFBLFVBQVUsQ0FBQ0ksTUFBWCxHQUFvQixVQUFBQyxHQUFHLEVBQUk7QUFDekJDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFDQVQsSUFBQUEsU0FBUyxDQUFDVyxTQUFWLENBQW9CSixHQUFwQjtBQUNELEdBSEQ7QUFJRCxDQVBEOztBQVNBUCxTQUFTLENBQUNZLE9BQVYsR0FBb0IsWUFBTTtBQUN4QkosRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWjtBQUNBVCxFQUFBQSxTQUFTLENBQUNhLFNBQVYsQ0FBb0IsT0FBcEIsRUFBNkIsVUFBQUMsR0FBRyxFQUFJO0FBQ2xDTixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCSyxHQUE1QjtBQUNELEdBRkQ7QUFHQWQsRUFBQUEsU0FBUyxDQUFDZSxJQUFWLENBQWUsS0FBZixFQUFzQixRQUF0QjtBQUNBZixFQUFBQSxTQUFTLENBQUNlLElBQVYsQ0FBZSxLQUFmLEVBQXNCLFFBQXRCO0FBQ0QsQ0FQRDs7QUFTQWIsVUFBVSxDQUFDVSxPQUFYLEdBQXFCLFlBQU07QUFDekJKLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaO0FBQ0FQLEVBQUFBLFVBQVUsQ0FBQ1csU0FBWCxDQUFxQixRQUFyQixFQUErQixVQUFBQyxHQUFHLEVBQUk7QUFDcENOLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVosRUFBNkJLLEdBQTdCO0FBQ0QsR0FGRDtBQUdBWixFQUFBQSxVQUFVLENBQUNhLElBQVgsQ0FBZ0IsS0FBaEIsRUFBdUIsU0FBdkI7QUFDQWIsRUFBQUEsVUFBVSxDQUFDYSxJQUFYLENBQWdCLEtBQWhCLEVBQXVCLFNBQXZCO0FBQ0QsQ0FQRCIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCJiYWJlbC1wb2x5ZmlsbFwiKTtcbmltcG9ydCBXZWJSVEMgZnJvbSBcIi4vaW5kZXhcIjtcbmNvbnN0IHBlZXJPZmZlciA9IG5ldyBXZWJSVEMoKTtcbmNvbnN0IHBlZXJBbnN3ZXIgPSBuZXcgV2ViUlRDKCk7XG5cbnBlZXJPZmZlci5tYWtlT2ZmZXIoeyBkaXNhYmxlX3N0dW46IHRydWUsIG5vZGVJZDogXCJvZmZlclwiIH0pO1xucGVlck9mZmVyLnNpZ25hbCA9IHNkcCA9PiB7XG4gIGNvbnNvbGUubG9nKFwib2ZmZXIgc2lnbmFsXCIpO1xuICBwZWVyQW5zd2VyLm1ha2VBbnN3ZXIoc2RwLCB7IGRpc2FibGVfc3R1bjogdHJ1ZSwgbm9kZUlkOiBcImFuc3dlclwiIH0pO1xuICBwZWVyQW5zd2VyLnNpZ25hbCA9IHNkcCA9PiB7XG4gICAgY29uc29sZS5sb2coXCJhbnN3ZXIgc2lnbmFsXCIpO1xuICAgIHBlZXJPZmZlci5zZXRBbnN3ZXIoc2RwKTtcbiAgfTtcbn07XG5cbnBlZXJPZmZlci5jb25uZWN0ID0gKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcIm9mZmVyIGNvbm5lY3RcIik7XG4gIHBlZXJPZmZlci5hZGRPbkRhdGEoXCJvZmZlclwiLCByYXcgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwib25kYXRhIG9mZmVyXCIsIHJhdyk7XG4gIH0pO1xuICBwZWVyT2ZmZXIuc2VuZChcIm9uZVwiLCBcIm9mZmVyMVwiKTtcbiAgcGVlck9mZmVyLnNlbmQoXCJ0d29cIiwgXCJvZmZlcjJcIik7XG59O1xuXG5wZWVyQW5zd2VyLmNvbm5lY3QgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiYW5zd2VyIGNvbm5lY3RcIik7XG4gIHBlZXJBbnN3ZXIuYWRkT25EYXRhKFwiYW5zd2VyXCIsIHJhdyA9PiB7XG4gICAgY29uc29sZS5sb2coXCJvbmRhdGEgYW5zd2VyXCIsIHJhdyk7XG4gIH0pO1xuICBwZWVyQW5zd2VyLnNlbmQoXCJvbmVcIiwgXCJhbnN3ZXIxXCIpO1xuICBwZWVyQW5zd2VyLnNlbmQoXCJ0d29cIiwgXCJhbnN3ZXIyXCIpO1xufTtcbiJdfQ==