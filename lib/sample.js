"use strict";

var _index = _interopRequireDefault(require("./index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require("babel-polyfill");

var peerOffer = new _index.default("offer");
var peerAnswer = new _index.default("answer");
peerOffer.makeOffer({
  disable_stun: true
});

peerOffer.signal = function (sdp) {
  console.log("offer signal");
  peerAnswer.makeAnswer(sdp, {
    disable_stun: true
  });

  peerAnswer.signal = function (sdp) {
    console.log("answer signal");
    peerOffer.setAnswer(sdp);
  };
};

peerOffer.connect = function () {
  console.log("offer connect");

  peerOffer.data = function (raw) {
    console.log("ondata offer", raw);
  };

  peerOffer.send("hello", "test");
  peerOffer.send("test", "second");
};

peerAnswer.connect = function () {
  console.log("answer connect");

  peerAnswer.data = function (raw) {
    console.log("ondata answer", raw);
  };

  peerAnswer.send("hi", "test");
  peerAnswer.send("test!!", "third");
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zYW1wbGUudHMiXSwibmFtZXMiOlsicmVxdWlyZSIsInBlZXJPZmZlciIsIldlYlJUQyIsInBlZXJBbnN3ZXIiLCJtYWtlT2ZmZXIiLCJkaXNhYmxlX3N0dW4iLCJzaWduYWwiLCJzZHAiLCJjb25zb2xlIiwibG9nIiwibWFrZUFuc3dlciIsInNldEFuc3dlciIsImNvbm5lY3QiLCJkYXRhIiwicmF3Iiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQURBQSxPQUFPLENBQUMsZ0JBQUQsQ0FBUDs7QUFFQSxJQUFNQyxTQUFTLEdBQUcsSUFBSUMsY0FBSixDQUFXLE9BQVgsQ0FBbEI7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUQsY0FBSixDQUFXLFFBQVgsQ0FBbkI7QUFFQUQsU0FBUyxDQUFDRyxTQUFWLENBQW9CO0FBQUVDLEVBQUFBLFlBQVksRUFBRTtBQUFoQixDQUFwQjs7QUFDQUosU0FBUyxDQUFDSyxNQUFWLEdBQW1CLFVBQUFDLEdBQUcsRUFBSTtBQUN4QkMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWjtBQUNBTixFQUFBQSxVQUFVLENBQUNPLFVBQVgsQ0FBc0JILEdBQXRCLEVBQTJCO0FBQUVGLElBQUFBLFlBQVksRUFBRTtBQUFoQixHQUEzQjs7QUFDQUYsRUFBQUEsVUFBVSxDQUFDRyxNQUFYLEdBQW9CLFVBQUFDLEdBQUcsRUFBSTtBQUN6QkMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWjtBQUNBUixJQUFBQSxTQUFTLENBQUNVLFNBQVYsQ0FBb0JKLEdBQXBCO0FBQ0QsR0FIRDtBQUlELENBUEQ7O0FBU0FOLFNBQVMsQ0FBQ1csT0FBVixHQUFvQixZQUFNO0FBQ3hCSixFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaOztBQUVBUixFQUFBQSxTQUFTLENBQUNZLElBQVYsR0FBaUIsVUFBQUMsR0FBRyxFQUFJO0FBQ3RCTixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCSyxHQUE1QjtBQUNELEdBRkQ7O0FBR0FiLEVBQUFBLFNBQVMsQ0FBQ2MsSUFBVixDQUFlLE9BQWYsRUFBd0IsTUFBeEI7QUFDQWQsRUFBQUEsU0FBUyxDQUFDYyxJQUFWLENBQWUsTUFBZixFQUF1QixRQUF2QjtBQUNELENBUkQ7O0FBVUFaLFVBQVUsQ0FBQ1MsT0FBWCxHQUFxQixZQUFNO0FBQ3pCSixFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWjs7QUFDQU4sRUFBQUEsVUFBVSxDQUFDVSxJQUFYLEdBQWtCLFVBQUFDLEdBQUcsRUFBSTtBQUN2Qk4sSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWixFQUE2QkssR0FBN0I7QUFDRCxHQUZEOztBQUdBWCxFQUFBQSxVQUFVLENBQUNZLElBQVgsQ0FBZ0IsSUFBaEIsRUFBc0IsTUFBdEI7QUFDQVosRUFBQUEsVUFBVSxDQUFDWSxJQUFYLENBQWdCLFFBQWhCLEVBQTBCLE9BQTFCO0FBQ0QsQ0FQRCIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCJiYWJlbC1wb2x5ZmlsbFwiKTtcbmltcG9ydCBXZWJSVEMgZnJvbSBcIi4vaW5kZXhcIjtcbmNvbnN0IHBlZXJPZmZlciA9IG5ldyBXZWJSVEMoXCJvZmZlclwiKTtcbmNvbnN0IHBlZXJBbnN3ZXIgPSBuZXcgV2ViUlRDKFwiYW5zd2VyXCIpO1xuXG5wZWVyT2ZmZXIubWFrZU9mZmVyKHsgZGlzYWJsZV9zdHVuOiB0cnVlIH0pO1xucGVlck9mZmVyLnNpZ25hbCA9IHNkcCA9PiB7XG4gIGNvbnNvbGUubG9nKFwib2ZmZXIgc2lnbmFsXCIpO1xuICBwZWVyQW5zd2VyLm1ha2VBbnN3ZXIoc2RwLCB7IGRpc2FibGVfc3R1bjogdHJ1ZSB9KTtcbiAgcGVlckFuc3dlci5zaWduYWwgPSBzZHAgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiYW5zd2VyIHNpZ25hbFwiKTtcbiAgICBwZWVyT2ZmZXIuc2V0QW5zd2VyKHNkcCk7XG4gIH07XG59O1xuXG5wZWVyT2ZmZXIuY29ubmVjdCA9ICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJvZmZlciBjb25uZWN0XCIpO1xuXG4gIHBlZXJPZmZlci5kYXRhID0gcmF3ID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIm9uZGF0YSBvZmZlclwiLCByYXcpO1xuICB9O1xuICBwZWVyT2ZmZXIuc2VuZChcImhlbGxvXCIsIFwidGVzdFwiKTtcbiAgcGVlck9mZmVyLnNlbmQoXCJ0ZXN0XCIsIFwic2Vjb25kXCIpO1xufTtcblxucGVlckFuc3dlci5jb25uZWN0ID0gKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcImFuc3dlciBjb25uZWN0XCIpO1xuICBwZWVyQW5zd2VyLmRhdGEgPSByYXcgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwib25kYXRhIGFuc3dlclwiLCByYXcpO1xuICB9O1xuICBwZWVyQW5zd2VyLnNlbmQoXCJoaVwiLCBcInRlc3RcIik7XG4gIHBlZXJBbnN3ZXIuc2VuZChcInRlc3QhIVwiLCBcInRoaXJkXCIpO1xufTtcbiJdfQ==