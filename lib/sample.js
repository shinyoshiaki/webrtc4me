"use strict";

var _index = _interopRequireDefault(require("./index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require("babel-polyfill");

var peerOffer = new _index.default("offer");
var peerAnswer = new _index.default("answer");
peerOffer.makeOffer({
  disable_stun: true,
  nodeId: "offer"
});

peerOffer.signal = function (sdp) {
  console.log("offer signal");
  peerAnswer.makeAnswer(sdp, {
    disable_stun: true,
    nodeId: "answer"
  });

  peerAnswer.signal = function (sdp) {
    console.log("answer signal");
    peerOffer.setAnswer(sdp);
  };
};

peerOffer.connect = function () {
  console.log("offer connect");

  peerOffer.data = function (raw) {
    console.log("ondata offer", raw);
  };

  peerOffer.send("hello", "test");
  peerOffer.send("test", "second");
};

peerAnswer.connect = function () {
  console.log("answer connect");

  peerAnswer.data = function (raw) {
    console.log("ondata answer", raw);
  };

  peerAnswer.send("hi", "test");
  peerAnswer.send("test!!", "third");
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zYW1wbGUudHMiXSwibmFtZXMiOlsicmVxdWlyZSIsInBlZXJPZmZlciIsIldlYlJUQyIsInBlZXJBbnN3ZXIiLCJtYWtlT2ZmZXIiLCJkaXNhYmxlX3N0dW4iLCJub2RlSWQiLCJzaWduYWwiLCJzZHAiLCJjb25zb2xlIiwibG9nIiwibWFrZUFuc3dlciIsInNldEFuc3dlciIsImNvbm5lY3QiLCJkYXRhIiwicmF3Iiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQURBQSxPQUFPLENBQUMsZ0JBQUQsQ0FBUDs7QUFFQSxJQUFNQyxTQUFTLEdBQUcsSUFBSUMsY0FBSixDQUFXLE9BQVgsQ0FBbEI7QUFDQSxJQUFNQyxVQUFVLEdBQUcsSUFBSUQsY0FBSixDQUFXLFFBQVgsQ0FBbkI7QUFFQUQsU0FBUyxDQUFDRyxTQUFWLENBQW9CO0FBQUVDLEVBQUFBLFlBQVksRUFBRSxJQUFoQjtBQUFzQkMsRUFBQUEsTUFBTSxFQUFFO0FBQTlCLENBQXBCOztBQUNBTCxTQUFTLENBQUNNLE1BQVYsR0FBbUIsVUFBQUMsR0FBRyxFQUFJO0FBQ3hCQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaO0FBQ0FQLEVBQUFBLFVBQVUsQ0FBQ1EsVUFBWCxDQUFzQkgsR0FBdEIsRUFBMkI7QUFBRUgsSUFBQUEsWUFBWSxFQUFFLElBQWhCO0FBQXNCQyxJQUFBQSxNQUFNLEVBQUU7QUFBOUIsR0FBM0I7O0FBQ0FILEVBQUFBLFVBQVUsQ0FBQ0ksTUFBWCxHQUFvQixVQUFBQyxHQUFHLEVBQUk7QUFDekJDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFDQVQsSUFBQUEsU0FBUyxDQUFDVyxTQUFWLENBQW9CSixHQUFwQjtBQUNELEdBSEQ7QUFJRCxDQVBEOztBQVNBUCxTQUFTLENBQUNZLE9BQVYsR0FBb0IsWUFBTTtBQUN4QkosRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWjs7QUFFQVQsRUFBQUEsU0FBUyxDQUFDYSxJQUFWLEdBQWlCLFVBQUFDLEdBQUcsRUFBSTtBQUN0Qk4sSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWixFQUE0QkssR0FBNUI7QUFDRCxHQUZEOztBQUdBZCxFQUFBQSxTQUFTLENBQUNlLElBQVYsQ0FBZSxPQUFmLEVBQXdCLE1BQXhCO0FBQ0FmLEVBQUFBLFNBQVMsQ0FBQ2UsSUFBVixDQUFlLE1BQWYsRUFBdUIsUUFBdkI7QUFDRCxDQVJEOztBQVVBYixVQUFVLENBQUNVLE9BQVgsR0FBcUIsWUFBTTtBQUN6QkosRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0JBQVo7O0FBQ0FQLEVBQUFBLFVBQVUsQ0FBQ1csSUFBWCxHQUFrQixVQUFBQyxHQUFHLEVBQUk7QUFDdkJOLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVosRUFBNkJLLEdBQTdCO0FBQ0QsR0FGRDs7QUFHQVosRUFBQUEsVUFBVSxDQUFDYSxJQUFYLENBQWdCLElBQWhCLEVBQXNCLE1BQXRCO0FBQ0FiLEVBQUFBLFVBQVUsQ0FBQ2EsSUFBWCxDQUFnQixRQUFoQixFQUEwQixPQUExQjtBQUNELENBUEQiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiYmFiZWwtcG9seWZpbGxcIik7XG5pbXBvcnQgV2ViUlRDIGZyb20gXCIuL2luZGV4XCI7XG5jb25zdCBwZWVyT2ZmZXIgPSBuZXcgV2ViUlRDKFwib2ZmZXJcIik7XG5jb25zdCBwZWVyQW5zd2VyID0gbmV3IFdlYlJUQyhcImFuc3dlclwiKTtcblxucGVlck9mZmVyLm1ha2VPZmZlcih7IGRpc2FibGVfc3R1bjogdHJ1ZSwgbm9kZUlkOiBcIm9mZmVyXCIgfSk7XG5wZWVyT2ZmZXIuc2lnbmFsID0gc2RwID0+IHtcbiAgY29uc29sZS5sb2coXCJvZmZlciBzaWduYWxcIik7XG4gIHBlZXJBbnN3ZXIubWFrZUFuc3dlcihzZHAsIHsgZGlzYWJsZV9zdHVuOiB0cnVlLCBub2RlSWQ6IFwiYW5zd2VyXCIgfSk7XG4gIHBlZXJBbnN3ZXIuc2lnbmFsID0gc2RwID0+IHtcbiAgICBjb25zb2xlLmxvZyhcImFuc3dlciBzaWduYWxcIik7XG4gICAgcGVlck9mZmVyLnNldEFuc3dlcihzZHApO1xuICB9O1xufTtcblxucGVlck9mZmVyLmNvbm5lY3QgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwib2ZmZXIgY29ubmVjdFwiKTtcblxuICBwZWVyT2ZmZXIuZGF0YSA9IHJhdyA9PiB7XG4gICAgY29uc29sZS5sb2coXCJvbmRhdGEgb2ZmZXJcIiwgcmF3KTtcbiAgfTtcbiAgcGVlck9mZmVyLnNlbmQoXCJoZWxsb1wiLCBcInRlc3RcIik7XG4gIHBlZXJPZmZlci5zZW5kKFwidGVzdFwiLCBcInNlY29uZFwiKTtcbn07XG5cbnBlZXJBbnN3ZXIuY29ubmVjdCA9ICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJhbnN3ZXIgY29ubmVjdFwiKTtcbiAgcGVlckFuc3dlci5kYXRhID0gcmF3ID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIm9uZGF0YSBhbnN3ZXJcIiwgcmF3KTtcbiAgfTtcbiAgcGVlckFuc3dlci5zZW5kKFwiaGlcIiwgXCJ0ZXN0XCIpO1xuICBwZWVyQW5zd2VyLnNlbmQoXCJ0ZXN0ISFcIiwgXCJ0aGlyZFwiKTtcbn07XG4iXX0=