"use strict";

var _index = _interopRequireDefault(require("./index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require("babel-polyfill");

var peerOffer = new _index.default();
var peerAnswer = new _index.default();
peerOffer.makeOffer({
  disable_stun: true,
  nodeId: "offer"
});

peerOffer.signal = function (sdp) {
  console.log("offer signal");
  peerAnswer.makeAnswer(sdp, {
    disable_stun: true,
    nodeId: "answer"
  });

  peerAnswer.signal = function (sdp) {
    console.log("answer signal");
    peerOffer.setAnswer(sdp);
  };
};

peerOffer.connect = function () {
  console.log("offer connect");

  peerOffer.events.data["sample.ts"] = function (raw) {
    console.log("ondata offer", raw);
  };

  peerOffer.send("hello", "test");
  peerOffer.send("test", "second");
};

peerAnswer.connect = function () {
  console.log("answer connect");

  peerAnswer.events.data["sample.ts"] = function (raw) {
    console.log("ondata offer", raw);
  };

  peerAnswer.send("hi", "test");
  peerAnswer.send("test!!", "third");
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zYW1wbGUudHMiXSwibmFtZXMiOlsicmVxdWlyZSIsInBlZXJPZmZlciIsIldlYlJUQyIsInBlZXJBbnN3ZXIiLCJtYWtlT2ZmZXIiLCJkaXNhYmxlX3N0dW4iLCJub2RlSWQiLCJzaWduYWwiLCJzZHAiLCJjb25zb2xlIiwibG9nIiwibWFrZUFuc3dlciIsInNldEFuc3dlciIsImNvbm5lY3QiLCJldmVudHMiLCJkYXRhIiwicmF3Iiwic2VuZCJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7OztBQURBQSxPQUFPLENBQUMsZ0JBQUQsQ0FBUDs7QUFFQSxJQUFNQyxTQUFTLEdBQUcsSUFBSUMsY0FBSixFQUFsQjtBQUNBLElBQU1DLFVBQVUsR0FBRyxJQUFJRCxjQUFKLEVBQW5CO0FBRUFELFNBQVMsQ0FBQ0csU0FBVixDQUFvQjtBQUFFQyxFQUFBQSxZQUFZLEVBQUUsSUFBaEI7QUFBc0JDLEVBQUFBLE1BQU0sRUFBRTtBQUE5QixDQUFwQjs7QUFDQUwsU0FBUyxDQUFDTSxNQUFWLEdBQW1CLFVBQUFDLEdBQUcsRUFBSTtBQUN4QkMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWjtBQUNBUCxFQUFBQSxVQUFVLENBQUNRLFVBQVgsQ0FBc0JILEdBQXRCLEVBQTJCO0FBQUVILElBQUFBLFlBQVksRUFBRSxJQUFoQjtBQUFzQkMsSUFBQUEsTUFBTSxFQUFFO0FBQTlCLEdBQTNCOztBQUNBSCxFQUFBQSxVQUFVLENBQUNJLE1BQVgsR0FBb0IsVUFBQUMsR0FBRyxFQUFJO0FBQ3pCQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaO0FBQ0FULElBQUFBLFNBQVMsQ0FBQ1csU0FBVixDQUFvQkosR0FBcEI7QUFDRCxHQUhEO0FBSUQsQ0FQRDs7QUFTQVAsU0FBUyxDQUFDWSxPQUFWLEdBQW9CLFlBQU07QUFDeEJKLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7O0FBRUFULEVBQUFBLFNBQVMsQ0FBQ2EsTUFBVixDQUFpQkMsSUFBakIsQ0FBc0IsV0FBdEIsSUFBcUMsVUFBQUMsR0FBRyxFQUFJO0FBQzFDUCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCTSxHQUE1QjtBQUNELEdBRkQ7O0FBSUFmLEVBQUFBLFNBQVMsQ0FBQ2dCLElBQVYsQ0FBZSxPQUFmLEVBQXdCLE1BQXhCO0FBQ0FoQixFQUFBQSxTQUFTLENBQUNnQixJQUFWLENBQWUsTUFBZixFQUF1QixRQUF2QjtBQUNELENBVEQ7O0FBV0FkLFVBQVUsQ0FBQ1UsT0FBWCxHQUFxQixZQUFNO0FBQ3pCSixFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWjs7QUFDQVAsRUFBQUEsVUFBVSxDQUFDVyxNQUFYLENBQWtCQyxJQUFsQixDQUF1QixXQUF2QixJQUFzQyxVQUFBQyxHQUFHLEVBQUk7QUFDM0NQLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQVosRUFBNEJNLEdBQTVCO0FBQ0QsR0FGRDs7QUFHQWIsRUFBQUEsVUFBVSxDQUFDYyxJQUFYLENBQWdCLElBQWhCLEVBQXNCLE1BQXRCO0FBQ0FkLEVBQUFBLFVBQVUsQ0FBQ2MsSUFBWCxDQUFnQixRQUFoQixFQUEwQixPQUExQjtBQUNELENBUEQiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiYmFiZWwtcG9seWZpbGxcIik7XG5pbXBvcnQgV2ViUlRDIGZyb20gXCIuL2luZGV4XCI7XG5jb25zdCBwZWVyT2ZmZXIgPSBuZXcgV2ViUlRDKCk7XG5jb25zdCBwZWVyQW5zd2VyID0gbmV3IFdlYlJUQygpO1xuXG5wZWVyT2ZmZXIubWFrZU9mZmVyKHsgZGlzYWJsZV9zdHVuOiB0cnVlLCBub2RlSWQ6IFwib2ZmZXJcIiB9KTtcbnBlZXJPZmZlci5zaWduYWwgPSBzZHAgPT4ge1xuICBjb25zb2xlLmxvZyhcIm9mZmVyIHNpZ25hbFwiKTtcbiAgcGVlckFuc3dlci5tYWtlQW5zd2VyKHNkcCwgeyBkaXNhYmxlX3N0dW46IHRydWUsIG5vZGVJZDogXCJhbnN3ZXJcIiB9KTtcbiAgcGVlckFuc3dlci5zaWduYWwgPSBzZHAgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiYW5zd2VyIHNpZ25hbFwiKTtcbiAgICBwZWVyT2ZmZXIuc2V0QW5zd2VyKHNkcCk7XG4gIH07XG59O1xuXG5wZWVyT2ZmZXIuY29ubmVjdCA9ICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJvZmZlciBjb25uZWN0XCIpO1xuXG4gIHBlZXJPZmZlci5ldmVudHMuZGF0YVtcInNhbXBsZS50c1wiXSA9IHJhdyA9PiB7XG4gICAgY29uc29sZS5sb2coXCJvbmRhdGEgb2ZmZXJcIiwgcmF3KTtcbiAgfTtcblxuICBwZWVyT2ZmZXIuc2VuZChcImhlbGxvXCIsIFwidGVzdFwiKTtcbiAgcGVlck9mZmVyLnNlbmQoXCJ0ZXN0XCIsIFwic2Vjb25kXCIpO1xufTtcblxucGVlckFuc3dlci5jb25uZWN0ID0gKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcImFuc3dlciBjb25uZWN0XCIpO1xuICBwZWVyQW5zd2VyLmV2ZW50cy5kYXRhW1wic2FtcGxlLnRzXCJdID0gcmF3ID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIm9uZGF0YSBvZmZlclwiLCByYXcpO1xuICB9O1xuICBwZWVyQW5zd2VyLnNlbmQoXCJoaVwiLCBcInRlc3RcIik7XG4gIHBlZXJBbnN3ZXIuc2VuZChcInRlc3QhIVwiLCBcInRoaXJkXCIpO1xufTtcbiJdfQ==