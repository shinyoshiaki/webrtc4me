"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getLocalVideo = getLocalVideo;
exports.getLocalAudio = getLocalAudio;
exports.getLocalDesktop = getLocalDesktop;

function getLocalVideo(option) {
  return new Promise(function (resolve) {
    navigator.getUserMedia = navigator.getUserMedia;
    navigator.mediaDevices.getUserMedia({
      audio: true,
      video: option || true
    }).then(function (stream) {
      resolve(stream);
    });
  });
}

function getLocalAudio() {
  return new Promise(function (resolve) {
    navigator.getUserMedia = navigator.getUserMedia;
    navigator.mediaDevices.getUserMedia({
      audio: true,
      video: false
    }).then(function (stream) {
      resolve(stream);
    });
  });
}

function getLocalDesktop(option) {
  return new Promise(function (resolve) {
    navigator.mediaDevices.getDisplayMedia({
      video: option || true
    }).then(function (stream) {
      resolve(stream);
    });
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvdXRpbGwudHMiXSwibmFtZXMiOlsiZ2V0TG9jYWxWaWRlbyIsIm9wdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwibmF2aWdhdG9yIiwiZ2V0VXNlck1lZGlhIiwibWVkaWFEZXZpY2VzIiwiYXVkaW8iLCJ2aWRlbyIsInRoZW4iLCJzdHJlYW0iLCJnZXRMb2NhbEF1ZGlvIiwiZ2V0TG9jYWxEZXNrdG9wIiwiZ2V0RGlzcGxheU1lZGlhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBTyxTQUFTQSxhQUFULENBQXVCQyxNQUF2QixFQUFvRDtBQUN6RCxTQUFPLElBQUlDLE9BQUosQ0FBeUIsVUFBQ0MsT0FBRCxFQUF1QztBQUNyRUMsSUFBQUEsU0FBUyxDQUFDQyxZQUFWLEdBQXlCRCxTQUFTLENBQUNDLFlBQW5DO0FBQ0FELElBQUFBLFNBQVMsQ0FBQ0UsWUFBVixDQUNHRCxZQURILENBQ2dCO0FBQ1pFLE1BQUFBLEtBQUssRUFBRSxJQURLO0FBRVpDLE1BQUFBLEtBQUssRUFBRVAsTUFBTSxJQUFJO0FBRkwsS0FEaEIsRUFLR1EsSUFMSCxDQUtRLFVBQUFDLE1BQU0sRUFBSTtBQUNkUCxNQUFBQSxPQUFPLENBQUNPLE1BQUQsQ0FBUDtBQUNELEtBUEg7QUFRRCxHQVZNLENBQVA7QUFXRDs7QUFFTSxTQUFTQyxhQUFULEdBQXlCO0FBQzlCLFNBQU8sSUFBSVQsT0FBSixDQUF5QixVQUFDQyxPQUFELEVBQXVDO0FBQ3JFQyxJQUFBQSxTQUFTLENBQUNDLFlBQVYsR0FBeUJELFNBQVMsQ0FBQ0MsWUFBbkM7QUFDQUQsSUFBQUEsU0FBUyxDQUFDRSxZQUFWLENBQ0dELFlBREgsQ0FDZ0I7QUFBRUUsTUFBQUEsS0FBSyxFQUFFLElBQVQ7QUFBZUMsTUFBQUEsS0FBSyxFQUFFO0FBQXRCLEtBRGhCLEVBRUdDLElBRkgsQ0FFUSxVQUFBQyxNQUFNLEVBQUk7QUFDZFAsTUFBQUEsT0FBTyxDQUFDTyxNQUFELENBQVA7QUFDRCxLQUpIO0FBS0QsR0FQTSxDQUFQO0FBUUQ7O0FBRU0sU0FBU0UsZUFBVCxDQUF5QlgsTUFBekIsRUFBc0Q7QUFDM0QsU0FBTyxJQUFJQyxPQUFKLENBQXlCLFVBQUNDLE9BQUQsRUFBdUM7QUFDcEVDLElBQUFBLFNBQVMsQ0FBQ0UsWUFBWCxDQUNHTyxlQURILENBQ21CO0FBQ2ZMLE1BQUFBLEtBQUssRUFBRVAsTUFBTSxJQUFJO0FBREYsS0FEbkIsRUFJR1EsSUFKSCxDQUlRLFVBQUNDLE1BQUQsRUFBaUI7QUFDckJQLE1BQUFBLE9BQU8sQ0FBQ08sTUFBRCxDQUFQO0FBQ0QsS0FOSDtBQU9ELEdBUk0sQ0FBUDtBQVNEIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldExvY2FsVmlkZW8ob3B0aW9uPzogTWVkaWFUcmFja1NldHRpbmdzKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxNZWRpYVN0cmVhbT4oKHJlc29sdmU6ICh2OiBNZWRpYVN0cmVhbSkgPT4gdm9pZCkgPT4ge1xuICAgIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhO1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXNcbiAgICAgIC5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgdmlkZW86IG9wdGlvbiB8fCB0cnVlXG4gICAgICB9KVxuICAgICAgLnRoZW4oc3RyZWFtID0+IHtcbiAgICAgICAgcmVzb2x2ZShzdHJlYW0pO1xuICAgICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxBdWRpbygpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPE1lZGlhU3RyZWFtPigocmVzb2x2ZTogKHY6IE1lZGlhU3RyZWFtKSA9PiB2b2lkKSA9PiB7XG4gICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5nZXRVc2VyTWVkaWE7XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlc1xuICAgICAgLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlLCB2aWRlbzogZmFsc2UgfSlcbiAgICAgIC50aGVuKHN0cmVhbSA9PiB7XG4gICAgICAgIHJlc29sdmUoc3RyZWFtKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2FsRGVza3RvcChvcHRpb24/OiBNZWRpYVRyYWNrU2V0dGluZ3MpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPE1lZGlhU3RyZWFtPigocmVzb2x2ZTogKHY6IE1lZGlhU3RyZWFtKSA9PiB2b2lkKSA9PiB7XG4gICAgKG5hdmlnYXRvci5tZWRpYURldmljZXMgYXMgYW55KVxuICAgICAgLmdldERpc3BsYXlNZWRpYSh7XG4gICAgICAgIHZpZGVvOiBvcHRpb24gfHwgdHJ1ZVxuICAgICAgfSlcbiAgICAgIC50aGVuKChzdHJlYW06IGFueSkgPT4ge1xuICAgICAgICByZXNvbHZlKHN0cmVhbSk7XG4gICAgICB9KTtcbiAgfSk7XG59XG4iXX0=