{"version":3,"file":"test.js","sourceRoot":"","sources":["../../../src/extensions/wait/test.ts"],"names":[],"mappings":";AAAA,iBA8BA;;;AA9BA,+CAAqB;AAErB,IAAI,CAAC,MAAM,EAAE;;;;;;gBACL,IAAI,GAAG,IAAI,UAAI,EAAU,CAAC;gBAChC,qBAAM,OAAO,CAAC,GAAG,CAAC;wBAChB,IAAI,OAAO,CAAC,UAAM,CAAC;;;;4CACS,qBAAM,IAAI,CAAC,MAAM,CACzC,MAAM,EACN,cAAM,OAAA,IAAI,OAAO,CAAS,UAAA,CAAC,IAAI,OAAA,UAAU,CAAC,cAAM,OAAA,CAAC,CAAC,OAAO,CAAC,EAAV,CAAU,EAAE,IAAI,CAAC,EAAlC,CAAkC,CAAC,EAA5D,CAA4D,CACnE,EAAA;;wCAHK,KAAoB,SAGzB,EAHO,KAAK,WAAA,EAAE,MAAM,YAAA;wCAIrB,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wCAC9B,IAAI,MAAM,EAAE;4CACV,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4CAC7B,CAAC,EAAE,CAAC;yCACL;;;;6BACF,CAAC;wBACF,IAAI,OAAO,CAAC,UAAM,CAAC;;;;4CACS,qBAAM,IAAI,CAAC,MAAM,CACzC,MAAM,EACN,cAAM,OAAA,IAAI,OAAO,CAAS,UAAA,CAAC,IAAI,OAAA,UAAU,CAAC,cAAM,OAAA,CAAC,CAAC,QAAQ,CAAC,EAAX,CAAW,EAAE,IAAI,CAAC,EAAnC,CAAmC,CAAC,EAA7D,CAA6D,CACpE,EAAA;;wCAHK,KAAoB,SAGzB,EAHO,KAAK,WAAA,EAAE,MAAM,YAAA;wCAIrB,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;6CAC3B,KAAK,EAAL,wBAAK;wCACK,qBAAM,KAAK,CAAC,SAAS,EAAE,EAAA;;wCAA7B,GAAG,GAAG,SAAuB;wCACnC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wCAC1B,CAAC,EAAE,CAAC;;;;;6BAEP,CAAC;qBACH,CAAC,EAAA;;gBAxBF,SAwBE,CAAC;;;;KACJ,CAAC,CAAC","sourcesContent":["import Wait from \".\";\n\ntest(\"wait\", async () => {\n  const wait = new Wait<string>();\n  await Promise.all([\n    new Promise(async r => {\n      const { exist, result } = await wait.create(\n        \"test\",\n        () => new Promise<string>(r => setTimeout(() => r(\"solve\"), 1000))\n      );\n      expect(exist).toBe(undefined);\n      if (result) {\n        expect(result).toBe(\"solve\");\n        r();\n      }\n    }),\n    new Promise(async r => {\n      const { exist, result } = await wait.create(\n        \"test\",\n        () => new Promise<string>(r => setTimeout(() => r(\"solve2\"), 1000))\n      );\n      expect(result).toBe(undefined);\n      if (exist) {\n        const res = await exist.asPromise();\n        expect(res).toBe(\"solve\");\n        r();\n      }\n    })\n  ]);\n});\n"]}